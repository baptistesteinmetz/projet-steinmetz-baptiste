{"version":3,"sources":["webpack:///src/app/catalog/product-list/product-list.component.ts","webpack:///src/app/catalog/product-list/product-list.component.html","webpack:///src/app/catalog/catalog.module.ts","webpack:///src/app/catalog/catalog-routing.module.ts","webpack:///src/app/catalog/search-bar/search-bar.component.ts","webpack:///src/app/catalog/search-bar/search-bar.component.html"],"names":["src","ProductListComponent","productService","store","stateHide","loaded","event","switchState","timer$","subscribe","t","product","addProduct","dispatch","products","getSearchResults","getProducts","hideCart","transform","selector","templateUrl","styleUrls","animations","CatalogModule","declarations","imports","providers","bootstrap","routes","path","component","CatalogRoutingModule","forChild","exports","SearchBarComponent","searchInput","filterPriceStatus","searchProduct","toLowerCase","filterNameStatus","priceFilter","nameFilter","onSearchProducts","onFilterPriceProducts","onFilterNameProducts"],"mappings":"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","file":"catalog-catalog-module-es5.js","sourcesContent":["import { trigger, state, transition, animate, style } from '@angular/animations';\r\nimport { ProductState } from './../../../shared/states/product-state';\r\nimport { AddProduct } from './../../../shared/actions/product-action';\r\nimport { ProductService } from './../../get-products.service';\r\nimport { Product } from './../../../shared/models/products';\r\nimport { Observable, Subscription, timer } from 'rxjs';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { from } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Store } from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.scss'],\r\n  animations: [\r\n    trigger('hide', [\r\n      state('active', style({\r\n        transform: 'translateX(80%)'\r\n      })),\r\n      state('inactive', style({\r\n        transform: 'translateX(0%)'\r\n      })),\r\n      transition('active => inactive', animate('800ms ease-in')),\r\n    ])\r\n  ]\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n\r\n  products: Observable<Product[]>;\r\n  productSubscription: Subscription;\r\n\r\n  public stateHide : string = 'inactive';\r\n  loaded : boolean = true;\r\n  constructor(private productService: ProductService, private store: Store) { }\r\n\r\n  hideCart(event : any)\r\n  {\r\n    let switchState = this.stateHide;\r\n    switchState == 'active' ? switchState = 'inactive' : switchState = 'active';\r\n    let timer$ = timer(1);\r\n    timer$.subscribe(t=> {\r\n      this.stateHide = switchState;\r\n    });\r\n  }\r\n  onClickAdd(product: Product) {\r\n    this.addProduct(product);\r\n  }\r\n\r\n  addProduct(product: Product) {\r\n      this.store.dispatch(new AddProduct(product));\r\n  }\r\n  ngOnInit(): void {\r\n    if(!this.products) {\r\n     this.products = this.productService.getSearchResults();\r\n    }\r\n    else {\r\n      this.products = this.productService.getProducts();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n}\r\n","<app-search-bar>[products]=\"products |async\">\r\n</app-search-bar>\r\n\r\n<div id=\"section-product-cart\">\r\n    <section id=\"section-product-list\">\r\n        <div *ngIf=\"!loaded\" class=\"product-loading\"><span><i class=\"fa fa-spin fa-spinner\"></i></span></div>\r\n        <div *ngIf=\"loaded\" id=\"product-list\" [ngClass]=\"{'product-list-display': loaded }\">\r\n            <div (mouseover)=\"hover=true\" (mouseleave)=\"hover=false\" *ngFor=\"let item of products | async\" class=\"product\">\r\n                <div class=\"product-header\">\r\n                    <p class=\"product-header-title\" [style.background]=\"item.primary_color\">{{item.name}} - <b class=\"product-price\">{{item.price}}â‚¬</b></p>\r\n                    <div class=\"product-header-img\">\r\n                        <img class=\"product-img\" src=\"../../assets/img/{{item.src}}\" />\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"product-separator\"></div>\r\n                <div class=\"product-info\">\r\n                    <p class=\"product-sec-info\">{{item.description}}</p>\r\n                    <div class=\"product-action\">\r\n                        <a class=\"product-info-btn btn-product\" [routerLink]=\"[item.idProduct]\" [style.background]=\"item.secondary_color\"><i class=\"fa fa-info\" aria-hidden=\"true\"></i></a>\r\n                        <button class=\"product-buy-btn btn-product\" (click)=\"onClickAdd(item)\" [style.background]=\"item.secondary_color\">Add to cart <i class=\"fa fa-cart-plus\" aria-hidden=\"true\"></i></button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section [@hide]=\"stateHide\" id=\"section-cart-list\">\r\n        <div class=\"product-list-shop\">\r\n            <div class=\"hide-cart\" (click)=\"hideCart($event)\">\r\n                <!-- <i class=\"fa\" [ngClass]=\"stateHide == 'active' ?' fa-long-arrow-left' : 'fa-long-arrow-right'\" aria-hidden=\"true\"></i> -->\r\n            </div>\r\n            <app-shopping-cart>\r\n            </app-shopping-cart>\r\n        </div>\r\n    </section>\r\n</div>\r\n","import { ShoppingCartComponent } from './../shopping-cart/shopping-cart.component';\r\nimport { CatalogRoutingModule } from './catalog-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShoppingCartModule } from '../shopping-cart/shopping-cart.module';\r\nimport { AppModule } from './../app.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { ProductService } from './../get-products.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SearchBarComponent } from './search-bar/search-bar.component';\r\nimport { ProductListComponent } from './product-list/product-list.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductListComponent,\r\n    SearchBarComponent,\r\n  ],\r\n  imports: [\r\n    // AppModule,\r\n    FormsModule,\r\n    CommonModule,\r\n    CatalogRoutingModule,\r\n    ShoppingCartModule,\r\n  ],\r\n  providers: [ProductService],\r\n  bootstrap: []\r\n})\r\nexport class CatalogModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProductListComponent } from './product-list/product-list.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductListComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CatalogRoutingModule { }\r\n","import { filter, map } from 'rxjs/operators';\r\nimport { ProductService } from './../../get-products.service';\r\nimport { Observable } from 'rxjs';\r\nimport { ProductListComponent } from './../product-list/product-list.component';\r\nimport { Product } from './../../../shared/models/products';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, Validators, ReactiveFormsModule, Form } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'app-search-bar',\r\n  templateUrl: './search-bar.component.html',\r\n  styleUrls: ['./search-bar.component.scss']\r\n})\r\nexport class SearchBarComponent implements OnInit {\r\n\r\n  searchInput: string;\r\n  filterPriceStatus: number;\r\n  filterNameStatus: number;\r\n\r\n  @Input() products: Observable<Product>;\r\n  message: any;\r\n  constructor(private productService: ProductService) {\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    // get products\r\n    this.productService.getProducts().subscribe();\r\n    this.searchInput = '';\r\n    this.filterPriceStatus = 1;\r\n  }\r\n\r\n  onSearchProducts() : void\r\n  {\r\n    // on input change we search products and update the view\r\n    this.productService.searchProduct(this.searchInput.toLowerCase()).subscribe();\r\n  }\r\n\r\n  onFilterPriceProducts() : void {\r\n    // changing status and updating depending on price\r\n    this.filterNameStatus = null;\r\n    this.filterPriceStatus === 1 ? this.filterPriceStatus = 0 : this.filterPriceStatus = 1;\r\n    this.productService.priceFilter(this.filterPriceStatus).subscribe();\r\n  }\r\n\r\n  onFilterNameProducts() : void {\r\n    this.filterPriceStatus = null;\r\n    // changing status and updating depending on name;\r\n    this.filterNameStatus === 1 ? this.filterNameStatus = 0 : this.filterNameStatus = 1;\r\n    this.productService.nameFilter(this.filterNameStatus).subscribe();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    //Called once, before the instance is destroyed.\r\n    //Add 'implements OnDestroy' to the class.\r\n  }\r\n}\r\n","<form class=\"form-search-bar\">\r\n  <div id=\"search-bar\">\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"Search by Name, Price, Description...\"\r\n      [(ngModel)]=\"searchInput\"\r\n      (ngModelChange)=\"onSearchProducts()\"\r\n      [ngModelOptions]=\"{standalone: true}\"\r\n      >\r\n    <!--  -->\r\n  </div>\r\n  <button\r\n    class=\"btn-filter btn-price\"\r\n    (click)=\"onFilterPriceProducts()\"\r\n    >Sort by price\r\n    <span><i class=\"fa\" [ngClass]=\"{'fa-arrow-up' : filterPriceStatus === 1 , 'fa-arrow-down' : filterPriceStatus === 0, '' : !filterPriceStatus}\" aria-hidden=\"true\"></i></span>\r\n  </button>\r\n\r\n  <button\r\n  class=\"btn-filter btn-name\"\r\n  (click)=\"onFilterNameProducts()\"\r\n  >Filter by name\r\n  <span><i class=\"fa\" [ngClass]=\"{'fa-sort-alpha-desc' : filterNameStatus === 1 , 'fa-sort-alpha-asc' : filterNameStatus === 0, '' : !filterNameStatus}\" aria-hidden=\"true\"></i></span>\r\n</button>\r\n</form>\r\n\r\n<!-- (click)=\"onFilterProducts()\" -->\r\n   <!-- [formControl]=\"products\" -->\r\n\r\n"]}