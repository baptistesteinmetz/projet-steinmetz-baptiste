{"version":3,"sources":["./src/shared/actions/product-action.ts","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/shared/states/user-state.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/shared/states/product-state.ts","./src/app/app.module.ts","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/shared/actions/user-action.ts","./src/app/app-routing.module.ts","./src/shared/models/User.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { Product } from '../models/products';\r\n\r\nexport class AddProduct {\r\n  static readonly type = '[Product] Add';\r\n  constructor(public payload: Product) {\r\n  }\r\n}\r\nexport class DelProduct {\r\n  static readonly type = '[Product] Del';\r\n  constructor(public payload: Product) {}\r\n}\r\nexport class BuyProduct {\r\n  static readonly type = '[Product] Buy';\r\n  constructor(public payload: Product) {}\r\n}\r\nexport class ShowProduct {\r\n  static readonly type = '[Product] Show';\r\n  constructor(public payload: Product) {}\r\n}\r\n","import { UserState } from './../../shared/states/user-state';\r\nimport { ProductState } from './../../shared/states/product-state';\r\nimport { Observable } from 'rxjs';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  public nbProducts$: Observable<number>;\r\n  public logged: boolean = false;\r\n\r\n  constructor(private store: Store) { }\r\n\r\n  ngOnInit(): void {\r\n    this.nbProducts$ = this.store.select(state => state.listProducts.products.length);\r\n    this.store.select(UserState.getUser).subscribe(\r\n      (data) => {\r\n        if(JSON.stringify(data) !== JSON.stringify({})) {\r\n          this.logged = true;\r\n        }\r\n        if(!data) this.logged = false;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<!-- <app-header></app-header> -->\r\n<section id=\"homepage\">\r\n    <div class=\"homepage-routes\">\r\n        <a class=\"btn-routes\" routerLink=\"/account\">{{logged ? 'Go to account' : 'Log-in / Sign-in'}}<i class=\"fa fa-caret-right\"></i></a>\r\n        <a class=\"btn-routes\" routerLink=\"/products\">Store <i class=\"fa fa-caret-right\"></i></a>\r\n        <a class=\"btn-routes\" routerLink=\"/cart\">Cart <i class=\"fa fa-caret-right\"></i></a>\r\n    </div>\r\n</section>\r\n","import { UserStateModel } from './user-state-model';\r\n// add actions : login => store username to display it\r\n// adduser and store it\r\nimport { ShowUser, ConnectUser, AddUser, DelUser, LogOffUser } from './../actions/user-action';\r\nimport { NgxsModule, Action, Selector, State, StateContext } from '@ngxs/store';\r\nimport { User } from '../models/User';\r\n\r\n\r\n@State<UserStateModel>({\r\n  name: 'userContent',\r\n  defaults: {\r\n    user: new User(),\r\n    // logged: [],\r\n  }\r\n})\r\nexport class UserState {\r\n\r\n  @Selector()\r\n  static getUser(state: UserStateModel) : User {\r\n    return state.user;\r\n    // return state.products.find(x => x.id === id);\r\n  }\r\n\r\n  // @Selector()\r\n  // static getNbProducts(state: ProductStateModel): number {\r\n  //   return state.products.length;\r\n  // }\r\n\r\n\r\n  @Action(AddUser)\r\n  add(\r\n    { getState, patchState }: StateContext<UserStateModel>,\r\n    { payload }: AddUser\r\n  ) {\r\n    const state = getState();\r\n    patchState({\r\n      user: payload\r\n    });\r\n    }\r\n\r\n  @Action(ConnectUser)\r\n  log(\r\n    { getState, patchState }: StateContext<UserStateModel>,\r\n    { payload }: ConnectUser,\r\n  ) {\r\n    const state = getState();\r\n    patchState({\r\n      user: payload\r\n    });\r\n    }\r\n\r\n    @Action(DelUser)\r\n    del(\r\n      { getState, patchState }: StateContext<UserStateModel>,\r\n      { payload }: DelUser,\r\n    ) {\r\n      const state = getState();\r\n      patchState({\r\n        user: null\r\n      });\r\n    }\r\n    \r\n    @Action(LogOffUser)\r\n    logoff(\r\n      { getState, patchState }: StateContext<UserStateModel>,\r\n      { payload }: LogOffUser,\r\n    ) {\r\n      const state = getState();\r\n      patchState({\r\n        user: null\r\n      });\r\n    }\r\n\r\n\r\n@Action(ShowUser)\r\nshow(\r\n  { getState, patchState }: StateContext<UserStateModel>,\r\n  { payload }: ShowUser\r\n) {\r\n  // const state = getState();\r\n  // patchState({\r\n  //   product: payload,\r\n  // });\r\n}\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api: 'https://back-projet-steinmetz-baptiste.herokuapp.com',\r\n  // name: 'products'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n\r\n\r\n","\r\nimport { Component } from '@angular/core';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { environment } from './../environments/environment';\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n\r\n  // constructor() {\r\n    env = environment;\r\n  // }\r\n\r\n\r\n}\r\n","<app-header></app-header>\r\n<div id=\"main\">\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n<!-- <app-product-list></app-product-list> -->","import { Product } from './../../shared/models/products';\r\nimport { AddProduct, DelProduct, ShowProduct, BuyProduct } from './../actions/product-action';\r\nimport { NgxsModule, Action, Selector, State, StateContext } from '@ngxs/store';\r\nimport { ProductStateModel } from './product-state-model';\r\n\r\n\r\n@State<ProductStateModel>({\r\n  name: 'listProducts',\r\n  defaults: {\r\n    products: [],\r\n    product: null,\r\n  }\r\n})\r\nexport class ProductState {\r\n\r\n  @Selector()\r\n  static getProduct(id: number) {\r\n    // return state.products.find(x => x.id === id);\r\n  }\r\n\r\n  @Selector()\r\n  static getNbProducts(state: ProductStateModel): number {\r\n    return state.products.length;\r\n  }\r\n\r\n  @Selector()\r\n  static getFullPriceProducts(state: ProductStateModel): number {\r\n    let price: number = 0;\r\n    state.products.forEach(product => {\r\n      price += product.price;\r\n    });\r\n    let rounding = price.toFixed(2);\r\n    price = Number(rounding)\r\n    return price;\r\n  }\r\n\r\n  @Action(AddProduct)\r\n  add(\r\n    { getState, patchState }: StateContext<ProductStateModel>,\r\n    { payload }: AddProduct\r\n  ) {\r\n    const state = getState();\r\n    // if(!state.products.find((product)=> product.id === payload.id)){\r\n      // ProductState.getFullPriceProducts(state);\r\n    patchState({\r\n      // créer un nouveau tableau\r\n      // l'opérateur ... permet de consituer une liste d'élement du tableau\r\n      products: [...state.products, payload],\r\n    });\r\n    // }\r\n  }\r\n\r\n  @Action(DelProduct)\r\n  del(\r\n    { getState, patchState }: StateContext<ProductStateModel>,\r\n    { payload }: DelProduct,\r\n  ) {\r\n    const state = getState();\r\n    const index = state.products.indexOf(payload);\r\n    state.products.splice(index, 1);\r\n      patchState({\r\n\r\n      });\r\n    }\r\n\r\n    @Action(BuyProduct)\r\n    buy(\r\n      { getState, patchState }: StateContext<ProductStateModel>,\r\n      { payload }: BuyProduct,\r\n    ) {\r\n      const state = getState();\r\n      patchState({\r\n        products: []\r\n      });\r\n      }\r\n\r\n    @Action(ShowProduct)\r\n    show(\r\n      { getState, patchState }: StateContext<ProductStateModel>,\r\n      { payload }: ShowProduct\r\n    ) {\r\n      const state = getState();\r\n      patchState({\r\n        product: payload,\r\n      });\r\n    }\r\n}\r\n","import { UserState } from './../shared/states/user-state';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { BrowserAnimationsModule, NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ProductState } from './../shared/states/product-state';\r\nimport { NgxsModule } from '@ngxs/store';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppComponent } from './app.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    HomeComponent,\r\n  ],\r\n  imports: [\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    NoopAnimationsModule,\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    NgxsModule,\r\n    NgxsModule.forRoot([\r\n      ProductState,\r\n      UserState\r\n    ]),\r\n  ],\r\n  exports: [RouterModule],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { User } from './../../shared/models/User';\r\nimport { UserState } from './../../shared/states/user-state';\r\nimport { Observable } from 'rxjs';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { ProductState } from '../../shared/states/product-state';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  public nbProducts$: Observable<number>;\r\n  public loggedUser$:string = null;\r\n\r\n  constructor(private store: Store) { }\r\n\r\n  ngOnInit(): void {\r\n    this.nbProducts$ = this.store.select(state => state.listProducts.products.length);\r\n    this.store.select(UserState.getUser).subscribe(\r\n      (data) => {\r\n        if(data) this.loggedUser$ = data.login;\r\n        else this.loggedUser$ = '';\r\n      }\r\n    );\r\n  }\r\n}\r\n","<nav>\r\n    <div class=\"header-navigation\">\r\n        <!-- <span>Liste des TPs WEB:</span> -->\r\n        <ul>\r\n            <li routerLinkActive=\"active\">\r\n                <a routerLink=\"home\">Home</a>\r\n            </li>\r\n            <li routerLinkActive=\"active\">\r\n                <a routerLink=\"account\">Account</a>\r\n            </li>\r\n            <li routerLinkActive=\"active\">\r\n                <a routerLink=\"products\">Store</a>\r\n            </li>\r\n            <li [routerLinkActive]=\"['active', 'non-active']\">\r\n                <a routerLink=\"cart\">Cart</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class=\"header-shopping-cart\">\r\n        <span class=\"loggedUser\">{{loggedUser$}}</span>\r\n        <a routerLink=\"cart\">\r\n            <i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\r\n            <span>{{nbProducts$|async}}</span>\r\n        </a>\r\n    </div>\r\n</nav>","import { User } from './../models/User';\r\n\r\nexport class AddUser {\r\n  static readonly type = '[User] Add';\r\n  constructor(public payload: User) {\r\n  }\r\n}\r\nexport class ConnectUser {\r\n  static readonly type = '[User] Log';\r\n  constructor(public payload: User) {}\r\n}\r\nexport class ShowUser {\r\n  static readonly type = '[User] Show';\r\n  constructor(public payload: User) {}\r\n}\r\nexport class DelUser {\r\n  static readonly type = '[User] Del';\r\n  constructor(public payload: User) {}\r\n}\r\nexport class LogOffUser {\r\n  static readonly type = '[User] LogOff';\r\n  constructor(public payload: User) {}\r\n}\r\n","import { HomeComponent } from './home/home.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\n\r\nconst appRoutes: Routes = [\r\n  { path: 'home', component: HomeComponent},\r\n  { path: '', component: HomeComponent},\r\n  { path: 'account', loadChildren: () => import('./user-account/user-account.module').then(m => m.UserAccountModule) },\r\n  { path: 'products', loadChildren: () => import('./catalog/catalog.module').then(m => m.CatalogModule) },\r\n  { path: 'products/:id', loadChildren: () => import('./product-detail/product-detail.module').then(m => m.ProductDetailModule) },\r\n  { path: 'cart', loadChildren: () => import('./shopping-cart/shopping-cart.module').then(m => m.ShoppingCartModule) },\r\n  { path: '**', component: HomeComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(appRoutes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","export class User {\r\n    idUser: number;\r\n    firstname: string;\r\n    lastname: string;\r\n    address: string;\r\n    zipcode: string;\r\n    city: string;\r\n    gender: string;\r\n    mail: string;\r\n    password: string;\r\n    login: string;\r\n    country: string;\r\n    phone: string;\r\n\r\n    constructor () {\r\n      // this.firstname = firstname;\r\n      // this.lastname = lastname;\r\n      // this.address = address;\r\n      // this.zipcode = zipcode;\r\n      // this.city = city;\r\n      // this.gender = gender;\r\n      // this.mail = mail;\r\n      // this.password = password;\r\n      // this.login = login;\r\n      // this.country = country;\r\n    }\r\n\r\n  }\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}