(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{MCpj:function(n,e,r){"use strict";r.r(e),r.d(e,"UserAccountModule",(function(){return de}));var t=r("xNjB"),i=r("jQhb"),o=r("8VHZ"),s=r("Ub9n"),a=r("AytR"),c=r("yTNM"),b=r("O6Zd"),d=r("vfyW"),l=r("FBrc");let u=(()=>{class n extends c.a{constructor(n){super(n),this.hClient=n}addUser(n){const e=new URLSearchParams;return e.set("firstname",n.firstname),e.set("lastname",n.lastname),e.set("address",n.address),e.set("zipcode",n.zipcode),e.set("city",n.city),e.set("gender",n.gender),e.set("mail",n.mail),e.set("password",n.password),e.set("login",n.login),e.set("country",n.country),e.set("phone",n.phone),this.hClient.post(a.a.api+"/user/register",e.toString(),this.httpOptions).pipe(Object(b.a)(n=>n))}updateUser(n){const e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),e.set("firstname",n.firstname),e.set("lastname",n.lastname),e.set("address",n.address),e.set("zipcode",n.zipcode),e.set("city",n.city),e.set("gender",n.gender),e.set("mail",n.mail),e.set("password",n.password),e.set("login",n.login),e.set("country",n.country),e.set("phone",n.phone),this.hClient.post(a.a.api+"/user/update",e.toString(),this.httpOptions).pipe(Object(b.a)(n=>n))}deleteUser(n){const e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),this.hClient.post(a.a.api+"/user/delete",e.toString(),this.httpOptions).pipe(Object(b.a)(n=>n))}logUser(n,e){const r=new URLSearchParams;return r.set("login",n),r.set("password",e),this.hClient.post(a.a.api+"/user/login",r.toString(),this.httpOptions).pipe(Object(d.a)(n=>n))}logOffUser(n){const e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),this.hClient.post(a.a.api+"/user/logoff",e.toString(),this.httpOptions).pipe(Object(b.a)(n=>n))}}return n.\u0275fac=function(e){return new(e||n)(s.Qb(l.a))},n.\u0275prov=s.Fb({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=r("DL6T"),p=r("Yvf7");function g(n,e){if(1&n&&(s.Mb(0,"button",15),s.lc(1," Submit "),s.Lb()),2&n){const n=s.Vb(2);s.Yb("disabled",!n.form.valid)}}function M(n,e){1&n&&s.Kb(0,"i",16)}function m(n,e){if(1&n&&(s.Mb(0,"div"),s.Kb(1,"i",17),s.lc(2),s.Lb()),2&n){const n=s.Vb(2);s.zb(2),s.nc(" ",n.errorMessage,"")}}function h(n,e){if(1&n){const n=s.Nb();s.Mb(0,"form",1),s.Tb("ngSubmit",(function(e){return s.ec(n),s.Vb().onSubmit(e)})),s.Mb(1,"div",2),s.Mb(2,"h2"),s.lc(3,"Login"),s.Lb(),s.Lb(),s.Mb(4,"div",3),s.Mb(5,"label",4),s.lc(6,"Login :"),s.Lb(),s.Mb(7,"input",5),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().login=e})),s.Lb(),s.Lb(),s.Mb(8,"div",6),s.Mb(9,"div",3),s.Mb(10,"label",7),s.lc(11,"Password:"),s.Lb(),s.Mb(12,"input",8),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().password=e})),s.Lb(),s.Lb(),s.Kb(13,"div",9),s.Mb(14,"div",10),s.kc(15,g,2,1,"button",11),s.kc(16,M,1,0,"i",12),s.Lb(),s.Mb(17,"div",13),s.kc(18,m,3,1,"div",14),s.Lb(),s.Lb(),s.Lb()}if(2&n){const n=s.Vb();s.Yb("formGroup",n.form),s.zb(7),s.Yb("ngModel",n.login),s.zb(5),s.Yb("ngModel",n.password),s.zb(3),s.Yb("ngIf",!n.waiting),s.zb(1),s.Yb("ngIf",n.waiting),s.zb(2),s.Yb("ngIf",n.errorLogIn)}}let L=(()=>{class n{constructor(n,e,r,i){this.fb=n,this.userService=e,this.apiService=r,this.userstore=i,this.logged=!1,this.waiting=!1,this.errorLogIn=!1,this.errorMessage=null,this.loggedUser=new t.a}ngOnInit(){this.form=this.fb.group({login:[null,o.p.required],password:[null,o.p.required]})}onSubmit(n){this.waiting=!0,this.errorLogIn=!1,this.apiService.setJWT(),this.userService.logUser(this.login,this.password).subscribe(n=>{1==n.success?(this.loggedUser=n.data,this.userstore.dispatch(new i.a(this.loggedUser)),this.errorMessage=null):(this.waiting=!1,this.login=null,this.password=null,this.errorLogIn=!0,this.errorMessage=n.data)})}}return n.\u0275fac=function(e){return new(e||n)(s.Jb(o.b),s.Jb(u),s.Jb(c.a),s.Jb(f.e))},n.\u0275cmp=s.Db({type:n,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"header"],[1,"c-input-one"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],[1,"c-input"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],[1,"separator"],[1,"c-input","btn-container"],["type","submit","class","validate","value","Valider",3,"disabled",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],[1,"footer"],[4,"ngIf"],["type","submit","value","Valider",1,"validate",3,"disabled"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"]],template:function(n,e){1&n&&s.kc(0,h,19,6,"form",0),2&n&&s.Yb("ngIf",!e.logged)},directives:[p.k,o.r,o.i,o.d,o.a,o.h,o.c],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:330px;display:flex;flex-direction:column;transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;border-radius:10px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background-color:#31bbd6;margin-bottom:20px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;padding:5px;color:#fff;font-family:Arial;text-align:center;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:3em;display:flex;justify-content:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{border-radius:0 0 10px 10px;background-color:#31bbd6;align-items:center;margin-top:20px}"]}),n})();var v=r("Fk62"),C=r("AwXK"),z=r("FwwM");function y(n,e){return r=>{const t=r.controls[e];t.errors&&!t.errors.mustMatch||t.setErrors(r.controls[n].value!==t.value?{mustMatch:!0}:null)}}function I(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function x(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid name format. "),s.Lb())}function k(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,I,2,0,"span",42),s.kc(2,x,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.lastname.errors&&n.f.lastname.errors.required),s.zb(1),s.Yb("ngIf",n.f.lastname.errors.pattern)}}function w(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function O(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid name format. "),s.Lb())}function P(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,w,2,0,"span",42),s.kc(2,O,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.firstname.errors&&n.f.firstname.errors.required),s.zb(1),s.Yb("ngIf",n.f.firstname.errors.pattern)}}function V(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function Y(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid name format. "),s.Lb())}function _(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,V,2,0,"span",42),s.kc(2,Y,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.firstname.errors&&n.f.firstname.errors.required),s.zb(1),s.Yb("ngIf",n.f.firstname.errors.pattern)}}function q(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function S(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid city format. "),s.Lb())}function T(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,q,2,0,"span",42),s.kc(2,S,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.city.errors&&n.f.city.errors.required),s.zb(1),s.Yb("ngIf",n.f.city.errors.pattern)}}function N(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function U(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid zipcode format. "),s.Lb())}function R(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,N,2,0,"span",42),s.kc(2,U,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.zipcode.errors&&n.f.zipcode.errors.required),s.zb(1),s.Yb("ngIf",n.f.zipcode.errors.pattern)}}function A(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function j(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid address format. "),s.Lb())}function J(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,A,2,0,"span",42),s.kc(2,j,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.address.errors&&n.f.address.errors.required),s.zb(1),s.Yb("ngIf",n.f.address.errors.pattern)}}function K(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function D(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid phone format. "),s.Lb())}function Z(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,K,2,0,"span",42),s.kc(2,D,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.phone.errors&&n.f.phone.errors.required),s.zb(1),s.Yb("ngIf",n.f.phone.errors.pattern)}}function $(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function E(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid login format. "),s.Lb())}function F(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,$,2,0,"span",42),s.kc(2,E,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.login.errors&&n.f.login.errors.required),s.zb(1),s.Yb("ngIf",n.f.login.errors.pattern)}}function G(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Required"),s.Lb())}function W(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1," Must be a valid mail format. "),s.Lb())}function H(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,G,2,0,"span",42),s.kc(2,W,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.mail.errors&&n.f.mail.errors.required),s.zb(1),s.Yb("ngIf",n.f.mail.errors.pattern)}}function X(n,e){1&n&&(s.Mb(0,"div"),s.lc(1,"Required"),s.Lb())}function B(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,X,2,0,"div",13),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",n.f.password.errors&&n.f.password.errors.required)}}function Q(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Confirmation password is required"),s.Lb())}function nn(n,e){1&n&&(s.Mb(0,"span",43),s.lc(1,"Passwords should match"),s.Lb())}function en(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Q,2,0,"span",42),s.kc(2,nn,2,0,"span",42),s.Lb()),2&n){const n=s.Vb(2);s.zb(1),s.Yb("ngIf",!n.f.confirmPassword&&n.f.confirmPassword.errors.required),s.zb(1),s.Yb("ngIf",n.f.confirmPassword.errors.mustMatch)}}function rn(n,e){if(1&n&&(s.Mb(0,"button",44),s.lc(1," Submit "),s.Lb()),2&n){const n=s.Vb(2);s.Yb("disabled",!n.form.valid)}}function tn(n,e){1&n&&s.Kb(0,"i",45)}function on(n,e){if(1&n&&(s.Mb(0,"div"),s.Kb(1,"i",46),s.lc(2),s.Lb()),2&n){const n=s.Vb(2);s.zb(2),s.nc(" ",n.errorMessage,"")}}function sn(n,e){if(1&n){const n=s.Nb();s.Mb(0,"div",4),s.Tb("formValidate",(function(e){return s.ec(n),s.Vb().formValidate=e})),s.Kb(1,"app-header-form"),s.Mb(2,"form",5),s.Tb("ngSubmit",(function(e){return s.ec(n),s.Vb().onSubmit(e)})),s.Mb(3,"div",6),s.Mb(4,"div",7),s.Mb(5,"label",8),s.lc(6,"Lastname:"),s.Lb(),s.Mb(7,"input",9),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.lastname=e})),s.Lb(),s.kc(8,k,3,2,"div",10),s.Lb(),s.Mb(9,"div",7),s.Mb(10,"label",11),s.lc(11,"Firstname:"),s.Lb(),s.Mb(12,"input",12),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.firstname=e})),s.Lb(),s.kc(13,P,3,2,"div",13),s.Lb(),s.Mb(14,"div",7),s.Mb(15,"label",14),s.lc(16,"Gender:"),s.Lb(),s.Mb(17,"select",15),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.gender=e})),s.Mb(18,"option",16),s.lc(19,"M"),s.Lb(),s.Mb(20,"option",17),s.lc(21,"F"),s.Lb(),s.Mb(22,"option",18),s.lc(23,"Other"),s.Lb(),s.Lb(),s.kc(24,_,3,2,"div",13),s.Lb(),s.Lb(),s.Mb(25,"div",6),s.Mb(26,"div",7),s.Mb(27,"label",19),s.lc(28,"City:"),s.Lb(),s.Mb(29,"input",20),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.city=e})),s.Lb(),s.kc(30,T,3,2,"div",13),s.Lb(),s.Mb(31,"div",7),s.Mb(32,"label",19),s.lc(33,"Zipcode (5 char):"),s.Lb(),s.Mb(34,"input",21),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.zipcode=e})),s.Lb(),s.kc(35,R,3,2,"div",13),s.Lb(),s.Lb(),s.Mb(36,"div",7),s.Mb(37,"label",22),s.lc(38,"Address:"),s.Lb(),s.Mb(39,"input",23),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.address=e})),s.Lb(),s.kc(40,J,3,2,"div",13),s.Lb(),s.Mb(41,"div",7),s.Mb(42,"label",24),s.lc(43,"Phone number:"),s.Lb(),s.Mb(44,"div"),s.Mb(45,"select",25),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.country=e})),s.Mb(46,"option",26),s.lc(47,"fr"),s.Lb(),s.Mb(48,"option",27),s.lc(49,"en"),s.Lb(),s.Mb(50,"option",28),s.lc(51,"us"),s.Lb(),s.Mb(52,"option",29),s.lc(53,"gr"),s.Lb(),s.Lb(),s.Mb(54,"input",30),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.phone=e})),s.Lb(),s.kc(55,Z,3,2,"div",13),s.Lb(),s.Lb(),s.Kb(56,"div",31),s.Mb(57,"div",7),s.Mb(58,"label",32),s.lc(59,"Login :"),s.Lb(),s.Mb(60,"input",33),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.login=e})),s.Lb(),s.kc(61,F,3,2,"div",13),s.Lb(),s.Mb(62,"div",7),s.Mb(63,"label",32),s.lc(64,"Mail :"),s.Lb(),s.Mb(65,"input",34),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.mail=e})),s.Lb(),s.kc(66,H,3,2,"div",13),s.Lb(),s.Mb(67,"div",7),s.Mb(68,"label",35),s.lc(69,"Password:"),s.Lb(),s.Mb(70,"input",36),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb().user.password=e})),s.Lb(),s.kc(71,B,2,1,"div",13),s.Lb(),s.Mb(72,"div",7),s.Mb(73,"label",37),s.lc(74,"Confirm password:"),s.Lb(),s.Kb(75,"input",38),s.kc(76,en,3,2,"div",13),s.Lb(),s.Kb(77,"div",31),s.Mb(78,"div",39),s.kc(79,rn,2,1,"button",40),s.kc(80,tn,1,0,"i",41),s.Lb(),s.Lb(),s.Mb(81,"app-footer-form"),s.kc(82,on,3,1,"div",13),s.Lb(),s.Lb()}if(2&n){const n=s.Vb();s.zb(2),s.Yb("formGroup",n.form),s.zb(5),s.Yb("ngModel",n.user.lastname),s.zb(1),s.Yb("ccErrorInput",!n.isValidInput("lastname")),s.zb(4),s.Yb("ngModel",n.user.firstname),s.zb(1),s.Yb("ngIf",n.isValidInput("firstname")),s.zb(4),s.Yb("ngModel",n.user.gender),s.zb(7),s.Yb("ngIf",n.isValidInput("firstname")),s.zb(5),s.Yb("ngModel",n.user.city),s.zb(1),s.Yb("ngIf",n.isValidInput("city")),s.zb(4),s.Yb("ngModel",n.user.zipcode),s.zb(1),s.Yb("ngIf",n.isValidInput("zipcode")),s.zb(4),s.Yb("ngModel",n.user.address),s.zb(1),s.Yb("ngIf",n.isValidInput("address")),s.zb(5),s.Yb("ngModel",n.user.country),s.zb(9),s.Yb("ngModel",n.user.phone),s.zb(1),s.Yb("ngIf",n.isValidInput("phone")),s.zb(5),s.Yb("ngModel",n.user.login),s.zb(1),s.Yb("ngIf",n.isValidInput("login")),s.zb(4),s.Yb("ngModel",n.user.mail),s.zb(1),s.Yb("ngIf",n.isValidInput("mail")),s.zb(4),s.Yb("ngModel",n.user.password),s.zb(1),s.Yb("ngIf",n.isValidInput("password")),s.zb(5),s.Yb("ngIf",n.isValidInput("confirmPassword")),s.zb(3),s.Yb("ngIf",!n.waiting),s.zb(1),s.Yb("ngIf",n.waiting),s.zb(2),s.Yb("ngIf",n.errorSignIn)}}function an(n,e){1&n&&(s.Mb(0,"div",47),s.Kb(1,"app-login"),s.Lb())}function cn(n,e){if(1&n&&(s.Mb(0,"div",48),s.Kb(1,"app-recap",49),s.Lb()),2&n){const n=s.Vb();s.zb(1),s.Yb("formValidate",n.formValidate)}}let bn=(()=>{class n{constructor(n,e,r){this.fb=n,this.userService=e,this.userstore=r,this.user=new t.a,this.user$=new z.a(1),this.formValidate=!1,this.formModify=!1,this.errorSignIn=!1,this.errorMessage=null,this.waiting=!1,this.userTab=[],this.logged=new t.a}ngOnInit(){this.initForm(),this.userstore.select(C.a.getUser).subscribe(n=>{JSON.stringify(n)!==JSON.stringify({})&&(this.formValidate=!0),n||(this.formValidate=!1)})}initForm(){this.form=this.fb.group({firstname:[null,[o.p.required,o.p.pattern("^[A-Za-z]+$")]],lastname:[null,[o.p.required,o.p.pattern("^[A-Za-z]+$")]],city:[null,o.p.required],zipcode:[null,[o.p.pattern("^[0-9]+$"),o.p.required]],phone:[null,[o.p.pattern("^[0-9]+$"),o.p.required]],address:[null,o.p.required],login:[null,o.p.required],mail:[null,[o.p.required,o.p.pattern("^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")]],gender:[null,o.p.required],country:[null,o.p.required],password:[null,o.p.required],confirmPassword:[null,o.p.required]},{validator:y("password","confirmPassword")})}get f(){return this.form.controls}isValidInput(n){return this.form.controls[n].invalid&&(this.form.controls[n].dirty||this.form.controls[n].touched)}onSubmit(n){n.preventDefault(),this.waiting=!0,this.user.firstname=this.form.value.firstname,this.form.valid&&this.userService.addUser(this.user).subscribe(n=>{n.success?(this.userstore.dispatch(new i.a(n.data)),this.formValidate=!0,this.waiting=!1):(this.waiting=!1,this.errorSignIn=!0,this.errorMessage=n.data)})}}return n.\u0275fac=function(e){return new(e||n)(s.Jb(o.b),s.Jb(u),s.Jb(f.e))},n.\u0275cmp=s.Db({type:n,selectors:[["app-form"]],hostAttrs:["id","component-form"],decls:4,vars:3,consts:[["id","section-main"],["id","section-form",3,"formValidate",4,"ngIf"],["id","section-log-in",4,"ngIf"],["id","section-recap",4,"ngIf"],["id","section-form",3,"formValidate"],[3,"formGroup","ngSubmit"],[1,"c-input"],[1,"c-input-one"],["for","lastname"],["formControlName","lastname","type","text","id","lastname","name","lastname",3,"ngModel","ngModelChange"],[4,"ccErrorInput"],["for","firstname"],["type","text","formControlName","firstname","id","firstname","name","firstname",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","gender"],["formControlName","gender","id","gender","name","gender",3,"ngModel","ngModelChange"],["value","Man","selected",""],["value","Woman"],["value","Other"],["for","name"],["formControlName","city","type","text","id","city","name","namcitye",3,"ngModel","ngModelChange"],["formControlName","zipcode","type","text","id","zip","name","zip","minlength","5","maxlength","5","size","5",3,"ngModel","ngModelChange"],["for","address"],["formControlName","address","type","text","id","address","name","address",3,"ngModel","ngModelChange"],["for","phone"],["formControlName","country","id","country","name","country",3,"ngModel","ngModelChange"],["value","fr","selected",""],["value","en"],["value","us"],["value","gr"],["formControlName","phone","type","text","id","phone","name","phone","maxlength","10",3,"ngModel","ngModelChange"],[1,"separator"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],["formControlName","mail","type","text","id","mail","name","mail",3,"ngModel","ngModelChange"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],["for","confirm-pass"],["type","password","id","confirm-pass","name","confirm-pass","formControlName","confirmPassword","required",""],[1,"c-input","btn-container"],["type","submit","class","validate","value","Valider",3,"disabled",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],["class","err-input",4,"ngIf"],[1,"err-input"],["type","submit","value","Valider",1,"validate",3,"disabled"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],["id","section-log-in"],["id","section-recap"],[3,"formValidate"]],template:function(n,e){1&n&&(s.Mb(0,"div",0),s.kc(1,sn,83,26,"div",1),s.kc(2,an,2,0,"div",2),s.kc(3,cn,2,1,"div",3),s.Lb()),2&n&&(s.zb(1),s.Yb("ngIf",!e.formValidate),s.zb(1),s.Yb("ngIf",!e.formValidate),s.zb(1),s.Yb("ngIf",e.formValidate))},styles:["[_nghost-%COMP%]{justify-content:center}#section-main[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;display:flex}#section-main[_ngcontent-%COMP%]{justify-content:space-around;align-items:center}#section-main[_ngcontent-%COMP%]   #section-form[_ngcontent-%COMP%]{height:-webkit-max-content;height:-moz-max-content;height:max-content;margin-top:50px;border-radius:10px;transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;width:500px}#section-main[_ngcontent-%COMP%]   #section-form[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}#section-main[_ngcontent-%COMP%]   .err-input[_ngcontent-%COMP%]{color:red;font-weight:700}.c-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}.c-input-one[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px;margin:5px;font-family:Arial,Helvetica,sans-serif}.c-input-one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:5px}.c-input-one[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0x}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:20px;padding:2px}"]}),n})();const dn=[{path:"",component:bn}];let ln=(()=>{class n{}return n.\u0275mod=s.Hb({type:n}),n.\u0275inj=s.Gb({factory:function(e){return new(e||n)},imports:[[v.e.forChild(dn)],v.e]}),n})(),un=(()=>{class n{constructor(n,e,r,t){this.templateRef=n,this.viewContainer=e,this.renderer=r,this.el=t}set ccErrorInput(n){n?this.viewContainer.clear():this.viewContainer.createEmbeddedView(this.templateRef)}}return n.\u0275fac=function(e){return new(e||n)(s.Jb(s.L),s.Jb(s.P),s.Jb(s.E),s.Jb(s.m))},n.\u0275dir=s.Eb({type:n,selectors:[["","ccErrorInput",""]],inputs:{ccErrorInput:"ccErrorInput"}}),n})();function fn(n,e){1&n&&(s.Mb(0,"span"),s.lc(1,"\u2642 "),s.Lb())}function pn(n,e){1&n&&(s.Mb(0,"span"),s.lc(1,"\u2640 "),s.Lb())}function gn(n,e){1&n&&(s.Mb(0,"span"),s.lc(1,"\u26a7 "),s.Lb())}function Mn(n,e){if(1&n&&(s.Mb(0,"p"),s.lc(1),s.Wb(2,"callcode"),s.Wb(3,"phone"),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.oc(" ",s.Xb(2,2,n.user.country)," ",s.Xb(3,4,n.user.phone),"")}}function mn(n,e){if(1&n&&(s.Mb(0,"div",7),s.Mb(1,"div"),s.Mb(2,"p"),s.lc(3),s.kc(4,fn,2,0,"span",0),s.kc(5,pn,2,0,"span",0),s.kc(6,gn,2,0,"span",0),s.Lb(),s.Mb(7,"p"),s.lc(8),s.Lb(),s.Mb(9,"p"),s.lc(10),s.Lb(),s.Lb(),s.Mb(11,"div",8),s.Mb(12,"div"),s.Mb(13,"p"),s.lc(14),s.Lb(),s.kc(15,Mn,4,6,"p",0),s.Lb(),s.Lb(),s.Lb()),2&n){const n=s.Vb(2);s.zb(3),s.oc("",n.user.firstname," ",n.user.lastname," "),s.zb(1),s.Yb("ngIf","Man"==n.user.gender),s.zb(1),s.Yb("ngIf","Woman"==n.user.gender),s.zb(1),s.Yb("ngIf","Other"==n.user.gender),s.zb(2),s.mc(n.user.login),s.zb(2),s.mc(n.user.mail),s.zb(4),s.pc("",n.user.address,", ",n.user.city,", ",n.user.zipcode,""),s.zb(1),s.Yb("ngIf",n.user.phone)}}function hn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function Ln(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid name format. "),s.Lb())}function vn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,hn,2,0,"span",46),s.kc(2,Ln,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.lastname.errors&&n.f.lastname.errors.required),s.zb(1),s.Yb("ngIf",n.f.lastname.errors.pattern)}}function Cn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function zn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid name format. "),s.Lb())}function yn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Cn,2,0,"span",46),s.kc(2,zn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.firstname.errors&&n.f.firstname.errors.required),s.zb(1),s.Yb("ngIf",n.f.firstname.errors.pattern)}}function In(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function xn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid name format. "),s.Lb())}function kn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,In,2,0,"span",46),s.kc(2,xn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.firstname.errors&&n.f.firstname.errors.required),s.zb(1),s.Yb("ngIf",n.f.firstname.errors.pattern)}}function wn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function On(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid city format. "),s.Lb())}function Pn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,wn,2,0,"span",46),s.kc(2,On,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.city.errors&&n.f.city.errors.required),s.zb(1),s.Yb("ngIf",n.f.city.errors.pattern)}}function Vn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function Yn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid zipcode format. "),s.Lb())}function _n(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Vn,2,0,"span",46),s.kc(2,Yn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.zipcode.errors&&n.f.zipcode.errors.required),s.zb(1),s.Yb("ngIf",n.f.zipcode.errors.pattern)}}function qn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function Sn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid address format. "),s.Lb())}function Tn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,qn,2,0,"span",46),s.kc(2,Sn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.address.errors&&n.f.address.errors.required),s.zb(1),s.Yb("ngIf",n.f.address.errors.pattern)}}function Nn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function Un(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid phone format. "),s.Lb())}function Rn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Nn,2,0,"span",46),s.kc(2,Un,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.phone.errors&&n.f.phone.errors.required),s.zb(1),s.Yb("ngIf",n.f.phone.errors.pattern)}}function An(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function jn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid login format. "),s.Lb())}function Jn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,An,2,0,"span",46),s.kc(2,jn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.login.errors&&n.f.login.errors.required),s.zb(1),s.Yb("ngIf",n.f.login.errors.pattern)}}function Kn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Required"),s.Lb())}function Dn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1," Must be a valid mail format. "),s.Lb())}function Zn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Kn,2,0,"span",46),s.kc(2,Dn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.mail.errors&&n.f.mail.errors.required),s.zb(1),s.Yb("ngIf",n.f.mail.errors.pattern)}}function $n(n,e){1&n&&(s.Mb(0,"div"),s.lc(1,"Required"),s.Lb())}function En(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,$n,2,0,"div",0),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",n.f.password.errors&&n.f.password.errors.required)}}function Fn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Confirmation password is required"),s.Lb())}function Gn(n,e){1&n&&(s.Mb(0,"span",47),s.lc(1,"Passwords should match"),s.Lb())}function Wn(n,e){if(1&n&&(s.Mb(0,"div"),s.kc(1,Fn,2,0,"span",46),s.kc(2,Gn,2,0,"span",46),s.Lb()),2&n){const n=s.Vb(3);s.zb(1),s.Yb("ngIf",!n.f.confirmPassword&&n.f.confirmPassword.errors.required),s.zb(1),s.Yb("ngIf",n.f.confirmPassword.errors.mustMatch)}}function Hn(n,e){if(1&n&&(s.Mb(0,"button",48),s.lc(1," Update "),s.Lb()),2&n){const n=s.Vb(3);s.Yb("disabled",!n.form.valid)}}function Xn(n,e){if(1&n){const n=s.Nb();s.Mb(0,"button",49),s.Tb("click",(function(){return s.ec(n),s.Vb(3).return()})),s.lc(1," Return "),s.Lb()}}function Bn(n,e){1&n&&s.Kb(0,"i",50)}function Qn(n,e){if(1&n&&(s.Mb(0,"div"),s.Kb(1,"i",51),s.lc(2),s.Lb()),2&n){const n=s.Vb(3);s.zb(2),s.nc(" ",n.errorMessage,"")}}function ne(n,e){if(1&n){const n=s.Nb();s.Mb(0,"form",9),s.Tb("ngSubmit",(function(e){return s.ec(n),s.Vb(2).modifyUser(e)})),s.Mb(1,"div",10),s.Mb(2,"div",11),s.Mb(3,"label",12),s.lc(4,"Lastname:"),s.Lb(),s.Mb(5,"input",13),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.lastname=e})),s.Lb(),s.kc(6,vn,3,2,"div",14),s.Lb(),s.Mb(7,"div",11),s.Mb(8,"label",15),s.lc(9,"Firstname:"),s.Lb(),s.Mb(10,"input",16),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.firstname=e})),s.Lb(),s.kc(11,yn,3,2,"div",0),s.Lb(),s.Mb(12,"div",11),s.Mb(13,"label",17),s.lc(14,"Gender:"),s.Lb(),s.Mb(15,"select",18),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.gender=e})),s.Mb(16,"option",19),s.lc(17,"M"),s.Lb(),s.Mb(18,"option",20),s.lc(19,"F"),s.Lb(),s.Mb(20,"option",21),s.lc(21,"Other"),s.Lb(),s.Lb(),s.kc(22,kn,3,2,"div",0),s.Lb(),s.Lb(),s.Mb(23,"div",10),s.Mb(24,"div",11),s.Mb(25,"label",22),s.lc(26,"City:"),s.Lb(),s.Mb(27,"input",23),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.city=e})),s.Lb(),s.kc(28,Pn,3,2,"div",0),s.Lb(),s.Mb(29,"div",11),s.Mb(30,"label",22),s.lc(31,"Zipcode (5 char):"),s.Lb(),s.Mb(32,"input",24),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.zipcode=e})),s.Lb(),s.kc(33,_n,3,2,"div",0),s.Lb(),s.Lb(),s.Mb(34,"div",11),s.Mb(35,"label",25),s.lc(36,"Address:"),s.Lb(),s.Mb(37,"input",26),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.address=e})),s.Lb(),s.kc(38,Tn,3,2,"div",0),s.Lb(),s.Mb(39,"div",11),s.Mb(40,"label",27),s.lc(41,"Phone number:"),s.Lb(),s.Mb(42,"div"),s.Mb(43,"select",28),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.country=e})),s.Mb(44,"option",29),s.lc(45,"fr"),s.Lb(),s.Mb(46,"option",30),s.lc(47,"en"),s.Lb(),s.Mb(48,"option",31),s.lc(49,"us"),s.Lb(),s.Mb(50,"option",32),s.lc(51,"gr"),s.Lb(),s.Lb(),s.Mb(52,"input",33),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.phone=e})),s.Lb(),s.kc(53,Rn,3,2,"div",0),s.Lb(),s.Lb(),s.Kb(54,"div",34),s.Mb(55,"div",11),s.Mb(56,"label",35),s.lc(57,"Login :"),s.Lb(),s.Mb(58,"input",36),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.login=e})),s.Lb(),s.kc(59,Jn,3,2,"div",0),s.Lb(),s.Mb(60,"div",11),s.Mb(61,"label",35),s.lc(62,"Mail :"),s.Lb(),s.Mb(63,"input",37),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.mail=e})),s.Lb(),s.kc(64,Zn,3,2,"div",0),s.Lb(),s.Mb(65,"div",11),s.Mb(66,"label",38),s.lc(67,"Password:"),s.Lb(),s.Mb(68,"input",39),s.Tb("ngModelChange",(function(e){return s.ec(n),s.Vb(2).user.password=e})),s.Lb(),s.kc(69,En,2,1,"div",0),s.Lb(),s.Mb(70,"div",11),s.Mb(71,"label",40),s.lc(72,"Confirm password:"),s.Lb(),s.Kb(73,"input",41),s.kc(74,Wn,3,2,"div",0),s.Lb(),s.Kb(75,"div",34),s.Mb(76,"div",42),s.kc(77,Hn,2,1,"button",43),s.kc(78,Xn,2,0,"button",44),s.kc(79,Bn,1,0,"i",45),s.kc(80,Qn,3,1,"div",0),s.Lb(),s.Lb()}if(2&n){const n=s.Vb(2);s.Yb("formGroup",n.form),s.zb(5),s.Yb("ngModel",n.user.lastname),s.zb(1),s.Yb("ccErrorInput",!n.isValidInput("lastname")),s.zb(4),s.Yb("ngModel",n.user.firstname),s.zb(1),s.Yb("ngIf",n.isValidInput("firstname")),s.zb(4),s.Yb("ngModel",n.user.gender),s.zb(7),s.Yb("ngIf",n.isValidInput("firstname")),s.zb(5),s.Yb("ngModel",n.user.city),s.zb(1),s.Yb("ngIf",n.isValidInput("city")),s.zb(4),s.Yb("ngModel",n.user.zipcode),s.zb(1),s.Yb("ngIf",n.isValidInput("zipcode")),s.zb(4),s.Yb("ngModel",n.user.address),s.zb(1),s.Yb("ngIf",n.isValidInput("address")),s.zb(5),s.Yb("ngModel",n.user.country),s.zb(9),s.Yb("ngModel",n.user.phone),s.zb(1),s.Yb("ngIf",n.isValidInput("phone")),s.zb(5),s.Yb("ngModel",n.user.login),s.zb(1),s.Yb("ngIf",n.isValidInput("login")),s.zb(4),s.Yb("ngModel",n.user.mail),s.zb(1),s.Yb("ngIf",n.isValidInput("mail")),s.zb(4),s.Yb("ngModel",n.user.password),s.zb(1),s.Yb("ngIf",n.isValidInput("password")),s.zb(5),s.Yb("ngIf",n.isValidInput("confirmPassword")),s.zb(3),s.Yb("ngIf",!n.waiting),s.zb(1),s.Yb("ngIf",!n.waiting),s.zb(1),s.Yb("ngIf",n.waiting),s.zb(1),s.Yb("ngIf",n.errorSignIn)}}function ee(n,e){if(1&n){const n=s.Nb();s.Mb(0,"div",52),s.Mb(1,"button",53),s.Tb("click",(function(){s.ec(n);const e=s.Vb(2);return e.onLogOff(e.user)})),s.lc(2," Log Off "),s.Lb(),s.Mb(3,"button",53),s.Tb("click",(function(){s.ec(n);const e=s.Vb(2);return e.onModifyAccount(e.user)})),s.lc(4," Update Account "),s.Lb(),s.Mb(5,"button",54),s.Tb("click",(function(){return s.ec(n),s.Vb(2).onClickDelete()})),s.lc(6," Delete account "),s.Lb(),s.Lb()}}function re(n,e){if(1&n){const n=s.Nb();s.Mb(0,"div",52),s.Mb(1,"button",54),s.Tb("click",(function(){s.ec(n);const e=s.Vb(2);return e.onDelete(e.user)})),s.lc(2," Confirm delete "),s.Lb(),s.Lb()}}const te=function(n,e,r){return{"user-boy":n,"user-girl":e,"user-other":r}};function ie(n,e){if(1&n&&(s.Mb(0,"div"),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"p"),s.lc(4),s.Lb(),s.Lb(),s.kc(5,mn,16,11,"div",3),s.kc(6,ne,81,27,"form",4),s.Kb(7,"div",5),s.Lb(),s.kc(8,ee,7,0,"div",6),s.kc(9,re,3,0,"div",6),s.Lb()),2&n){const n=s.Vb();s.zb(1),s.Yb("ngClass",s.cc(6,te,"Man"==n.user.gender,"Woman"==n.user.gender,"Other"==n.user.gender)),s.zb(3),s.nc("Welcome ",n.user.firstname,", here's your account information!"),s.zb(1),s.Yb("ngIf",!n.formModify),s.zb(1),s.Yb("ngIf",n.formModify),s.zb(2),s.Yb("ngIf",!n.clickModify),s.zb(1),s.Yb("ngIf",n.clickDelete)}}let oe=(()=>{class n{transform(n){n=0!==n.charAt(0)?n.substring(1):""+n.substring(1);let e="",r=0;for(;r<Math.floor(n.length/2)-1;r++)e=e+n.substr(2*r,2)+"-";return e+n.substr(2*r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Ib({name:"phone",type:n,pure:!0}),n})(),se=(()=>{class n{transform(n){switch(n){case"fr":return"+33";case"en":return"+44";case"gr":return"+49";case"us":return"+1"}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Ib({name:"callcode",type:n,pure:!0}),n})(),ae=(()=>{class n{constructor(n,e,r){this.store=n,this.userService=e,this.fb=r,this.user=new t.a,this.formValidate=!1,this.formModify=!1,this.clickModify=!1,this.clickDelete=!1,this.errorSignIn=!1,this.errorMessage=null}ngOnInit(){this.formValidate&&this.store.select(C.a.getUser).subscribe(n=>{this.user=n})}onDelete(n){this.userService.deleteUser(n).subscribe(e=>{e.success&&(this.store.dispatch(new i.c(n)),this.formValidate=!1)})}onLogOff(n){this.userService.logOffUser(n).subscribe(e=>{e.success&&(this.store.dispatch(new i.d(n)),this.formValidate=!1)})}onModifyAccount(n){this.initForm(),this.formModify=!0,this.clickModify=!0}onClickDelete(){this.clickDelete=!0,this.clickModify=!0}initForm(){this.form=this.fb.group({firstname:[null,[o.p.required,o.p.pattern("^[A-Za-z]+$")]],lastname:[null,[o.p.required,o.p.pattern("^[A-Za-z]+$")]],city:[null,o.p.required],zipcode:[null,[o.p.pattern("^[0-9]+$"),o.p.required]],phone:[null,[o.p.pattern("^[0-9]+$"),o.p.required]],address:[null,o.p.required],login:[null,o.p.required],mail:[null,[o.p.required,o.p.pattern("^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")]],gender:[null,o.p.required],country:[null,o.p.required],password:[null,o.p.required],confirmPassword:[null,o.p.required]},{validator:y("password","confirmPassword")})}get f(){return this.form.controls}isValidInput(n){return this.form.controls[n].invalid&&(this.form.controls[n].dirty||this.form.controls[n].touched)}modifyUser(n){n.preventDefault(),this.clickModify=!0,this.user.firstname=this.form.value.firstname,this.form.valid&&this.userService.updateUser(this.user).subscribe(n=>{n.success&&(this.store.dispatch(new i.a(n.data)),this.formValidate=!0,this.formModify=!1,this.clickModify=!1)})}return(){this.formModify=!1,this.clickModify=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Jb(f.e),s.Jb(u),s.Jb(o.b))},n.\u0275cmp=s.Db({type:n,selectors:[["app-recap"]],inputs:{formValidate:"formValidate",formModify:"formModify"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"user-card",3,"ngClass"],[1,"user-card-header"],["class","user-card-info",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"user-card-ok"],["class","user-btn-cnt",4,"ngIf"],[1,"user-card-info"],[1,"user-card-address"],[3,"formGroup","ngSubmit"],[1,"c-input"],[1,"c-input-one"],["for","lastname"],["formControlName","lastname","type","text","id","lastname","name","lastname",3,"ngModel","ngModelChange"],[4,"ccErrorInput"],["for","firstname"],["type","text","formControlName","firstname","id","firstname","name","firstname",3,"ngModel","ngModelChange"],["for","gender"],["formControlName","gender","id","gender","name","gender",3,"ngModel","ngModelChange"],["value","Man","selected",""],["value","Woman"],["value","Other"],["for","name"],["formControlName","city","type","text","id","city","name","namcitye",3,"ngModel","ngModelChange"],["formControlName","zipcode","type","text","id","zip","name","zip","minlength","5","maxlength","5","size","5",3,"ngModel","ngModelChange"],["for","address"],["formControlName","address","type","text","id","address","name","address",3,"ngModel","ngModelChange"],["for","phone"],["formControlName","country","id","country","name","country",3,"ngModel","ngModelChange"],["value","fr","selected",""],["value","en"],["value","us"],["value","gr"],["formControlName","phone","type","text","id","phone","name","phone","maxlength","10",3,"ngModel","ngModelChange"],[1,"separator"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],["formControlName","mail","type","text","id","mail","name","mail",3,"ngModel","ngModelChange"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],["for","confirm-pass"],["type","password","id","confirm-pass","name","confirm-pass","formControlName","confirmPassword","required",""],[1,"c-input","btn-container"],["class","user-btn-btn","type","submit","value","Modifier",3,"disabled",4,"ngIf"],["class","user-btn-btn","value","Modifier",3,"click",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],["class","err-input",4,"ngIf"],[1,"err-input"],["type","submit","value","Modifier",1,"user-btn-btn",3,"disabled"],["value","Modifier",1,"user-btn-btn",3,"click"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"user-btn-cnt"],["value","Logoff",1,"user-btn-btn",3,"click"],["value","Supprimer",1,"user-btn-btn",3,"click"]],template:function(n,e){1&n&&s.kc(0,ie,10,10,"div",0),2&n&&s.Yb("ngIf",e.formValidate)},directives:[p.k,p.i,o.r,o.i,o.d,o.a,o.h,o.c,un,o.o,o.l,o.q,o.g,o.f,o.n],pipes:[se,oe],styles:["[_nghost-%COMP%]{min-height:500px}.user-boy[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-boy[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-color:#8cde85;color:#000}.user-girl[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-girl[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-color:#de85c4}.user-other[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-other[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,red,orange,#ff0,green,#00f,indigo,violet)}.user-card[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;border-radius:25px;display:flex;flex-direction:column;justify-content:space-between;font-family:Arial,Helvetica,sans-serif;min-width:500px;min-height:500px}.user-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.user-card[_ngcontent-%COMP%]   .c-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px;margin:5px;font-family:Arial,Helvetica,sans-serif}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:5px}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0x}.user-card[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%]{padding:10px;color:#fff;font-family:Arial;height:3em;text-align:center;display:flex;justify-content:center;flex-direction:column;border-radius:20px 20px 0 0;transition:all .5s cubic-bezier(.25,.8,.25,1)}.user-card[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.user-card[_ngcontent-%COMP%]   .user-card-address[_ngcontent-%COMP%]{padding:15px}.user-card[_ngcontent-%COMP%]   .user-card-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.user-card[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{border-radius:0 0 20px 20px;height:2em;color:#fff;display:flex;justify-content:center;align-items:center;transition:all .5s cubic-bezier(.25,.8,.25,1)}.user-card[_ngcontent-%COMP%]   .user-card-info[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.user-card[_ngcontent-%COMP%]   .user-card-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px;text-align:center}.btn-container[_ngcontent-%COMP%], .user-btn-cnt[_ngcontent-%COMP%]{margin:20px auto;display:flex;justify-content:space-around}.user-btn-btn[_ngcontent-%COMP%]{cursor:pointer;border:none;position:relative;background:#18f7f7;border-radius:5px;margin:5px;height:35px;transition:all 1s ease-out;width:12em;display:flex;justify-content:center;align-items:center}"]}),n})(),ce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Db({type:n,selectors:[["app-footer-form"]],decls:1,vars:0,consts:[["id","footer-bar"]],template:function(n,e){1&n&&s.Kb(0,"div",0)},styles:["#footer-bar[_ngcontent-%COMP%]{height:3em;border-radius:0 0 10px 10px;background-color:#31bbd6;display:flex;justify-content:center;align-items:center}#footer-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;text-align:center;padding:10px;color:#fff;font-family:Arial}"]}),n})(),be=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Db({type:n,selectors:[["app-header-form"]],decls:3,vars:0,consts:[["id","header"]],template:function(n,e){1&n&&(s.Mb(0,"div",0),s.Mb(1,"h2"),s.lc(2,"Sign in"),s.Lb(),s.Lb())},styles:["#header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background-color:#31bbd6}#header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;padding:10px;color:#fff;font-family:Arial;height:3em;text-align:center;display:flex;justify-content:center;flex-direction:column}"]}),n})(),de=(()=>{class n{}return n.\u0275mod=s.Hb({type:n}),n.\u0275inj=s.Gb({factory:function(e){return new(e||n)},providers:[],imports:[[p.c,o.e,o.m,ln]]}),n})();s.gc(bn,[p.k,be,o.r,o.i,o.d,o.a,o.h,o.c,un,o.o,o.l,o.q,o.g,o.f,o.n,ce,L,ae],[])}}]);