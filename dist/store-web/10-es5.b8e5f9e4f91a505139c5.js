!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function r(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}function t(n,e){return(t=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function i(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,t=a(n);if(e){var i=a(this).constructor;r=Reflect.construct(t,arguments,i)}else r=t.apply(this,arguments);return o(this,r)}}function o(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function a(n){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{MCpj:function(e,o,a){"use strict";a.r(o),a.d(o,"UserAccountModule",(function(){return Ie}));var s,c=a("xNjB"),b=a("jQhb"),u=a("8VHZ"),d=a("Ub9n"),f=a("AytR"),l=a("yTNM"),p=a("O6Zd"),g=a("vfyW"),m=a("FBrc"),M=((s=function(e){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&t(n,e)}(a,e);var o=i(a);function a(e){var r;return n(this,a),(r=o.call(this,e)).hClient=e,r}return r(a,[{key:"addUser",value:function(n){var e=new URLSearchParams;return e.set("firstname",n.firstname),e.set("lastname",n.lastname),e.set("address",n.address),e.set("zipcode",n.zipcode),e.set("city",n.city),e.set("gender",n.gender),e.set("mail",n.mail),e.set("password",n.password),e.set("login",n.login),e.set("country",n.country),e.set("phone",n.phone),this.hClient.post(f.a.api+"/user/register",e.toString(),this.httpOptions).pipe(Object(p.a)((function(n){return n})))}},{key:"updateUser",value:function(n){var e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),e.set("firstname",n.firstname),e.set("lastname",n.lastname),e.set("address",n.address),e.set("zipcode",n.zipcode),e.set("city",n.city),e.set("gender",n.gender),e.set("mail",n.mail),e.set("password",n.password),e.set("login",n.login),e.set("country",n.country),e.set("phone",n.phone),this.hClient.post(f.a.api+"/user/update",e.toString(),this.httpOptions).pipe(Object(p.a)((function(n){return n})))}},{key:"deleteUser",value:function(n){var e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),this.hClient.post(f.a.api+"/user/delete",e.toString(),this.httpOptions).pipe(Object(p.a)((function(n){return n})))}},{key:"logUser",value:function(n,e){var r=new URLSearchParams;return r.set("login",n),r.set("password",e),this.hClient.post(f.a.api+"/user/login",r.toString(),this.httpOptions).pipe(Object(g.a)((function(n){return n})))}},{key:"logOffUser",value:function(n){var e=new URLSearchParams;return e.set("idUser",n.idUser.toString()),this.hClient.post(f.a.api+"/user/logoff",e.toString(),this.httpOptions).pipe(Object(p.a)((function(n){return n})))}}]),a}(l.a)).\u0275fac=function(n){return new(n||s)(d.Qb(m.a))},s.\u0275prov=d.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),h=a("DL6T"),v=a("Yvf7");function L(n,e){if(1&n&&(d.Mb(0,"button",15),d.lc(1," Submit "),d.Lb()),2&n){var r=d.Vb(2);d.Yb("disabled",!r.form.valid)}}function y(n,e){1&n&&d.Kb(0,"i",16)}function C(n,e){if(1&n&&(d.Mb(0,"div"),d.Kb(1,"i",17),d.lc(2),d.Lb()),2&n){var r=d.Vb(2);d.zb(2),d.nc(" ",r.errorMessage,"")}}function z(n,e){if(1&n){var r=d.Nb();d.Mb(0,"form",1),d.Tb("ngSubmit",(function(n){return d.ec(r),d.Vb().onSubmit(n)})),d.Mb(1,"div",2),d.Mb(2,"h2"),d.lc(3,"Login"),d.Lb(),d.Lb(),d.Mb(4,"div",3),d.Mb(5,"label",4),d.lc(6,"Login :"),d.Lb(),d.Mb(7,"input",5),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().login=n})),d.Lb(),d.Lb(),d.Mb(8,"div",6),d.Mb(9,"div",3),d.Mb(10,"label",7),d.lc(11,"Password:"),d.Lb(),d.Mb(12,"input",8),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().password=n})),d.Lb(),d.Lb(),d.Kb(13,"div",9),d.Mb(14,"div",10),d.kc(15,L,2,1,"button",11),d.kc(16,y,1,0,"i",12),d.Lb(),d.Mb(17,"div",13),d.kc(18,C,3,1,"div",14),d.Lb(),d.Lb(),d.Lb()}if(2&n){var t=d.Vb();d.Yb("formGroup",t.form),d.zb(7),d.Yb("ngModel",t.login),d.zb(5),d.Yb("ngModel",t.password),d.zb(3),d.Yb("ngIf",!t.waiting),d.zb(1),d.Yb("ngIf",t.waiting),d.zb(2),d.Yb("ngIf",t.errorLogIn)}}var k,I=((k=function(){function e(r,t,i,o){n(this,e),this.fb=r,this.userService=t,this.apiService=i,this.userstore=o,this.logged=!1,this.waiting=!1,this.errorLogIn=!1,this.errorMessage=null,this.loggedUser=new c.a}return r(e,[{key:"ngOnInit",value:function(){this.form=this.fb.group({login:[null,u.p.required],password:[null,u.p.required]})}},{key:"onSubmit",value:function(n){var e=this;this.waiting=!0,this.errorLogIn=!1,this.apiService.setJWT(),this.userService.logUser(this.login,this.password).subscribe((function(n){1==n.success?(e.loggedUser=n.data,e.userstore.dispatch(new b.a(e.loggedUser)),e.errorMessage=null):(e.waiting=!1,e.login=null,e.password=null,e.errorLogIn=!0,e.errorMessage=n.data)}))}}]),e}()).\u0275fac=function(n){return new(n||k)(d.Jb(u.b),d.Jb(M),d.Jb(l.a),d.Jb(h.e))},k.\u0275cmp=d.Db({type:k,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"header"],[1,"c-input-one"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],[1,"c-input"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],[1,"separator"],[1,"c-input","btn-container"],["type","submit","class","validate","value","Valider",3,"disabled",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],[1,"footer"],[4,"ngIf"],["type","submit","value","Valider",1,"validate",3,"disabled"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"]],template:function(n,e){1&n&&d.kc(0,z,19,6,"form",0),2&n&&d.Yb("ngIf",!e.logged)},directives:[v.k,u.r,u.i,u.d,u.a,u.h,u.c],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:330px;display:flex;flex-direction:column;transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;border-radius:10px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background-color:#31bbd6;margin-bottom:20px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;padding:5px;color:#fff;font-family:Arial;text-align:center;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:3em;display:flex;justify-content:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{border-radius:0 0 10px 10px;background-color:#31bbd6;align-items:center;margin-top:20px}"]}),k),x=a("Fk62"),w=a("AwXK"),O=a("FwwM");function P(n,e){return function(r){var t=r.controls[e];t.errors&&!t.errors.mustMatch||t.setErrors(r.controls[n].value!==t.value?{mustMatch:!0}:null)}}function V(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function Y(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid name format. "),d.Lb())}function _(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,V,2,0,"span",42),d.kc(2,Y,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.lastname.errors&&r.f.lastname.errors.required),d.zb(1),d.Yb("ngIf",r.f.lastname.errors.pattern)}}function q(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function S(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid name format. "),d.Lb())}function T(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,q,2,0,"span",42),d.kc(2,S,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.firstname.errors&&r.f.firstname.errors.required),d.zb(1),d.Yb("ngIf",r.f.firstname.errors.pattern)}}function N(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function R(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid name format. "),d.Lb())}function U(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,N,2,0,"span",42),d.kc(2,R,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.firstname.errors&&r.f.firstname.errors.required),d.zb(1),d.Yb("ngIf",r.f.firstname.errors.pattern)}}function j(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function A(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid city format. "),d.Lb())}function J(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,j,2,0,"span",42),d.kc(2,A,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.city.errors&&r.f.city.errors.required),d.zb(1),d.Yb("ngIf",r.f.city.errors.pattern)}}function K(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function D(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid zipcode format. "),d.Lb())}function E(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,K,2,0,"span",42),d.kc(2,D,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.zipcode.errors&&r.f.zipcode.errors.required),d.zb(1),d.Yb("ngIf",r.f.zipcode.errors.pattern)}}function Z(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function $(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid address format. "),d.Lb())}function F(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Z,2,0,"span",42),d.kc(2,$,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.address.errors&&r.f.address.errors.required),d.zb(1),d.Yb("ngIf",r.f.address.errors.pattern)}}function G(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function W(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid phone format. "),d.Lb())}function H(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,G,2,0,"span",42),d.kc(2,W,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.phone.errors&&r.f.phone.errors.required),d.zb(1),d.Yb("ngIf",r.f.phone.errors.pattern)}}function X(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function B(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid login format. "),d.Lb())}function Q(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,X,2,0,"span",42),d.kc(2,B,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.login.errors&&r.f.login.errors.required),d.zb(1),d.Yb("ngIf",r.f.login.errors.pattern)}}function nn(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Required"),d.Lb())}function en(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1," Must be a valid mail format. "),d.Lb())}function rn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,nn,2,0,"span",42),d.kc(2,en,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.mail.errors&&r.f.mail.errors.required),d.zb(1),d.Yb("ngIf",r.f.mail.errors.pattern)}}function tn(n,e){1&n&&(d.Mb(0,"div"),d.lc(1,"Required"),d.Lb())}function on(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,tn,2,0,"div",13),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",r.f.password.errors&&r.f.password.errors.required)}}function an(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Confirmation password is required"),d.Lb())}function sn(n,e){1&n&&(d.Mb(0,"span",43),d.lc(1,"Passwords should match"),d.Lb())}function cn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,an,2,0,"span",42),d.kc(2,sn,2,0,"span",42),d.Lb()),2&n){var r=d.Vb(2);d.zb(1),d.Yb("ngIf",!r.f.confirmPassword&&r.f.confirmPassword.errors.required),d.zb(1),d.Yb("ngIf",r.f.confirmPassword.errors.mustMatch)}}function bn(n,e){if(1&n&&(d.Mb(0,"button",44),d.lc(1," Submit "),d.Lb()),2&n){var r=d.Vb(2);d.Yb("disabled",!r.form.valid)}}function un(n,e){1&n&&d.Kb(0,"i",45)}function dn(n,e){if(1&n&&(d.Mb(0,"div"),d.Kb(1,"i",46),d.lc(2),d.Lb()),2&n){var r=d.Vb(2);d.zb(2),d.nc(" ",r.errorMessage,"")}}function fn(n,e){if(1&n){var r=d.Nb();d.Mb(0,"div",4),d.Tb("formValidate",(function(n){return d.ec(r),d.Vb().formValidate=n})),d.Kb(1,"app-header-form"),d.Mb(2,"form",5),d.Tb("ngSubmit",(function(n){return d.ec(r),d.Vb().onSubmit(n)})),d.Mb(3,"div",6),d.Mb(4,"div",7),d.Mb(5,"label",8),d.lc(6,"Lastname:"),d.Lb(),d.Mb(7,"input",9),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.lastname=n})),d.Lb(),d.kc(8,_,3,2,"div",10),d.Lb(),d.Mb(9,"div",7),d.Mb(10,"label",11),d.lc(11,"Firstname:"),d.Lb(),d.Mb(12,"input",12),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.firstname=n})),d.Lb(),d.kc(13,T,3,2,"div",13),d.Lb(),d.Mb(14,"div",7),d.Mb(15,"label",14),d.lc(16,"Gender:"),d.Lb(),d.Mb(17,"select",15),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.gender=n})),d.Mb(18,"option",16),d.lc(19,"M"),d.Lb(),d.Mb(20,"option",17),d.lc(21,"F"),d.Lb(),d.Mb(22,"option",18),d.lc(23,"Other"),d.Lb(),d.Lb(),d.kc(24,U,3,2,"div",13),d.Lb(),d.Lb(),d.Mb(25,"div",6),d.Mb(26,"div",7),d.Mb(27,"label",19),d.lc(28,"City:"),d.Lb(),d.Mb(29,"input",20),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.city=n})),d.Lb(),d.kc(30,J,3,2,"div",13),d.Lb(),d.Mb(31,"div",7),d.Mb(32,"label",19),d.lc(33,"Zipcode (5 char):"),d.Lb(),d.Mb(34,"input",21),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.zipcode=n})),d.Lb(),d.kc(35,E,3,2,"div",13),d.Lb(),d.Lb(),d.Mb(36,"div",7),d.Mb(37,"label",22),d.lc(38,"Address:"),d.Lb(),d.Mb(39,"input",23),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.address=n})),d.Lb(),d.kc(40,F,3,2,"div",13),d.Lb(),d.Mb(41,"div",7),d.Mb(42,"label",24),d.lc(43,"Phone number:"),d.Lb(),d.Mb(44,"div"),d.Mb(45,"select",25),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.country=n})),d.Mb(46,"option",26),d.lc(47,"fr"),d.Lb(),d.Mb(48,"option",27),d.lc(49,"en"),d.Lb(),d.Mb(50,"option",28),d.lc(51,"us"),d.Lb(),d.Mb(52,"option",29),d.lc(53,"gr"),d.Lb(),d.Lb(),d.Mb(54,"input",30),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.phone=n})),d.Lb(),d.kc(55,H,3,2,"div",13),d.Lb(),d.Lb(),d.Kb(56,"div",31),d.Mb(57,"div",7),d.Mb(58,"label",32),d.lc(59,"Login :"),d.Lb(),d.Mb(60,"input",33),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.login=n})),d.Lb(),d.kc(61,Q,3,2,"div",13),d.Lb(),d.Mb(62,"div",7),d.Mb(63,"label",32),d.lc(64,"Mail :"),d.Lb(),d.Mb(65,"input",34),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.mail=n})),d.Lb(),d.kc(66,rn,3,2,"div",13),d.Lb(),d.Mb(67,"div",7),d.Mb(68,"label",35),d.lc(69,"Password:"),d.Lb(),d.Mb(70,"input",36),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb().user.password=n})),d.Lb(),d.kc(71,on,2,1,"div",13),d.Lb(),d.Mb(72,"div",7),d.Mb(73,"label",37),d.lc(74,"Confirm password:"),d.Lb(),d.Kb(75,"input",38),d.kc(76,cn,3,2,"div",13),d.Lb(),d.Kb(77,"div",31),d.Mb(78,"div",39),d.kc(79,bn,2,1,"button",40),d.kc(80,un,1,0,"i",41),d.Lb(),d.Lb(),d.Mb(81,"app-footer-form"),d.kc(82,dn,3,1,"div",13),d.Lb(),d.Lb()}if(2&n){var t=d.Vb();d.zb(2),d.Yb("formGroup",t.form),d.zb(5),d.Yb("ngModel",t.user.lastname),d.zb(1),d.Yb("ccErrorInput",!t.isValidInput("lastname")),d.zb(4),d.Yb("ngModel",t.user.firstname),d.zb(1),d.Yb("ngIf",t.isValidInput("firstname")),d.zb(4),d.Yb("ngModel",t.user.gender),d.zb(7),d.Yb("ngIf",t.isValidInput("firstname")),d.zb(5),d.Yb("ngModel",t.user.city),d.zb(1),d.Yb("ngIf",t.isValidInput("city")),d.zb(4),d.Yb("ngModel",t.user.zipcode),d.zb(1),d.Yb("ngIf",t.isValidInput("zipcode")),d.zb(4),d.Yb("ngModel",t.user.address),d.zb(1),d.Yb("ngIf",t.isValidInput("address")),d.zb(5),d.Yb("ngModel",t.user.country),d.zb(9),d.Yb("ngModel",t.user.phone),d.zb(1),d.Yb("ngIf",t.isValidInput("phone")),d.zb(5),d.Yb("ngModel",t.user.login),d.zb(1),d.Yb("ngIf",t.isValidInput("login")),d.zb(4),d.Yb("ngModel",t.user.mail),d.zb(1),d.Yb("ngIf",t.isValidInput("mail")),d.zb(4),d.Yb("ngModel",t.user.password),d.zb(1),d.Yb("ngIf",t.isValidInput("password")),d.zb(5),d.Yb("ngIf",t.isValidInput("confirmPassword")),d.zb(3),d.Yb("ngIf",!t.waiting),d.zb(1),d.Yb("ngIf",t.waiting),d.zb(2),d.Yb("ngIf",t.errorSignIn)}}function ln(n,e){1&n&&(d.Mb(0,"div",47),d.Kb(1,"app-login"),d.Lb())}function pn(n,e){if(1&n&&(d.Mb(0,"div",48),d.Kb(1,"app-recap",49),d.Lb()),2&n){var r=d.Vb();d.zb(1),d.Yb("formValidate",r.formValidate)}}var gn,mn,Mn,hn=((gn=function(){function e(r,t,i){n(this,e),this.fb=r,this.userService=t,this.userstore=i,this.user=new c.a,this.user$=new O.a(1),this.formValidate=!1,this.formModify=!1,this.errorSignIn=!1,this.errorMessage=null,this.waiting=!1,this.userTab=[],this.logged=new c.a}return r(e,[{key:"ngOnInit",value:function(){var n=this;this.initForm(),this.userstore.select(w.a.getUser).subscribe((function(e){JSON.stringify(e)!==JSON.stringify({})&&(n.formValidate=!0),e||(n.formValidate=!1)}))}},{key:"initForm",value:function(){this.form=this.fb.group({firstname:[null,[u.p.required,u.p.pattern("^[A-Za-z]+$")]],lastname:[null,[u.p.required,u.p.pattern("^[A-Za-z]+$")]],city:[null,u.p.required],zipcode:[null,[u.p.pattern("^[0-9]+$"),u.p.required]],phone:[null,[u.p.pattern("^[0-9]+$"),u.p.required]],address:[null,u.p.required],login:[null,u.p.required],mail:[null,[u.p.required,u.p.pattern("^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")]],gender:[null,u.p.required],country:[null,u.p.required],password:[null,u.p.required],confirmPassword:[null,u.p.required]},{validator:P("password","confirmPassword")})}},{key:"isValidInput",value:function(n){return this.form.controls[n].invalid&&(this.form.controls[n].dirty||this.form.controls[n].touched)}},{key:"onSubmit",value:function(n){var e=this;n.preventDefault(),this.waiting=!0,this.user.firstname=this.form.value.firstname,this.form.valid&&this.userService.addUser(this.user).subscribe((function(n){n.success?(e.userstore.dispatch(new b.a(n.data)),e.formValidate=!0,e.waiting=!1):(e.waiting=!1,e.errorSignIn=!0,e.errorMessage=n.data)}))}},{key:"f",get:function(){return this.form.controls}}]),e}()).\u0275fac=function(n){return new(n||gn)(d.Jb(u.b),d.Jb(M),d.Jb(h.e))},gn.\u0275cmp=d.Db({type:gn,selectors:[["app-form"]],hostAttrs:["id","component-form"],decls:4,vars:3,consts:[["id","section-main"],["id","section-form",3,"formValidate",4,"ngIf"],["id","section-log-in",4,"ngIf"],["id","section-recap",4,"ngIf"],["id","section-form",3,"formValidate"],[3,"formGroup","ngSubmit"],[1,"c-input"],[1,"c-input-one"],["for","lastname"],["formControlName","lastname","type","text","id","lastname","name","lastname",3,"ngModel","ngModelChange"],[4,"ccErrorInput"],["for","firstname"],["type","text","formControlName","firstname","id","firstname","name","firstname",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","gender"],["formControlName","gender","id","gender","name","gender",3,"ngModel","ngModelChange"],["value","Man","selected",""],["value","Woman"],["value","Other"],["for","name"],["formControlName","city","type","text","id","city","name","namcitye",3,"ngModel","ngModelChange"],["formControlName","zipcode","type","text","id","zip","name","zip","minlength","5","maxlength","5","size","5",3,"ngModel","ngModelChange"],["for","address"],["formControlName","address","type","text","id","address","name","address",3,"ngModel","ngModelChange"],["for","phone"],["formControlName","country","id","country","name","country",3,"ngModel","ngModelChange"],["value","fr","selected",""],["value","en"],["value","us"],["value","gr"],["formControlName","phone","type","text","id","phone","name","phone","maxlength","10",3,"ngModel","ngModelChange"],[1,"separator"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],["formControlName","mail","type","text","id","mail","name","mail",3,"ngModel","ngModelChange"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],["for","confirm-pass"],["type","password","id","confirm-pass","name","confirm-pass","formControlName","confirmPassword","required",""],[1,"c-input","btn-container"],["type","submit","class","validate","value","Valider",3,"disabled",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],["class","err-input",4,"ngIf"],[1,"err-input"],["type","submit","value","Valider",1,"validate",3,"disabled"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],["id","section-log-in"],["id","section-recap"],[3,"formValidate"]],template:function(n,e){1&n&&(d.Mb(0,"div",0),d.kc(1,fn,83,26,"div",1),d.kc(2,ln,2,0,"div",2),d.kc(3,pn,2,1,"div",3),d.Lb()),2&n&&(d.zb(1),d.Yb("ngIf",!e.formValidate),d.zb(1),d.Yb("ngIf",!e.formValidate),d.zb(1),d.Yb("ngIf",e.formValidate))},styles:["[_nghost-%COMP%]{justify-content:center}#section-main[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;display:flex}#section-main[_ngcontent-%COMP%]{justify-content:space-around;align-items:center}#section-main[_ngcontent-%COMP%]   #section-form[_ngcontent-%COMP%]{height:-webkit-max-content;height:-moz-max-content;height:max-content;margin-top:50px;border-radius:10px;transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;width:500px}#section-main[_ngcontent-%COMP%]   #section-form[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}#section-main[_ngcontent-%COMP%]   .err-input[_ngcontent-%COMP%]{color:red;font-weight:700}.c-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}.c-input-one[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px;margin:5px;font-family:Arial,Helvetica,sans-serif}.c-input-one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:5px}.c-input-one[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0x}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:20px;padding:2px}"]}),gn),vn=[{path:"",component:hn}],Ln=((Mn=function e(){n(this,e)}).\u0275mod=d.Hb({type:Mn}),Mn.\u0275inj=d.Gb({factory:function(n){return new(n||Mn)},imports:[[x.e.forChild(vn)],x.e]}),Mn),yn=((mn=function(){function e(r,t,i,o){n(this,e),this.templateRef=r,this.viewContainer=t,this.renderer=i,this.el=o}return r(e,[{key:"ccErrorInput",set:function(n){n?this.viewContainer.clear():this.viewContainer.createEmbeddedView(this.templateRef)}}]),e}()).\u0275fac=function(n){return new(n||mn)(d.Jb(d.L),d.Jb(d.P),d.Jb(d.E),d.Jb(d.m))},mn.\u0275dir=d.Eb({type:mn,selectors:[["","ccErrorInput",""]],inputs:{ccErrorInput:"ccErrorInput"}}),mn);function Cn(n,e){1&n&&(d.Mb(0,"span"),d.lc(1,"\u2642 "),d.Lb())}function zn(n,e){1&n&&(d.Mb(0,"span"),d.lc(1,"\u2640 "),d.Lb())}function kn(n,e){1&n&&(d.Mb(0,"span"),d.lc(1,"\u26a7 "),d.Lb())}function In(n,e){if(1&n&&(d.Mb(0,"p"),d.lc(1),d.Wb(2,"callcode"),d.Wb(3,"phone"),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.oc(" ",d.Xb(2,2,r.user.country)," ",d.Xb(3,4,r.user.phone),"")}}function xn(n,e){if(1&n&&(d.Mb(0,"div",7),d.Mb(1,"div"),d.Mb(2,"p"),d.lc(3),d.kc(4,Cn,2,0,"span",0),d.kc(5,zn,2,0,"span",0),d.kc(6,kn,2,0,"span",0),d.Lb(),d.Mb(7,"p"),d.lc(8),d.Lb(),d.Mb(9,"p"),d.lc(10),d.Lb(),d.Lb(),d.Mb(11,"div",8),d.Mb(12,"div"),d.Mb(13,"p"),d.lc(14),d.Lb(),d.kc(15,In,4,6,"p",0),d.Lb(),d.Lb(),d.Lb()),2&n){var r=d.Vb(2);d.zb(3),d.oc("",r.user.firstname," ",r.user.lastname," "),d.zb(1),d.Yb("ngIf","Man"==r.user.gender),d.zb(1),d.Yb("ngIf","Woman"==r.user.gender),d.zb(1),d.Yb("ngIf","Other"==r.user.gender),d.zb(2),d.mc(r.user.login),d.zb(2),d.mc(r.user.mail),d.zb(4),d.pc("",r.user.address,", ",r.user.city,", ",r.user.zipcode,""),d.zb(1),d.Yb("ngIf",r.user.phone)}}function wn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function On(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid name format. "),d.Lb())}function Pn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,wn,2,0,"span",46),d.kc(2,On,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.lastname.errors&&r.f.lastname.errors.required),d.zb(1),d.Yb("ngIf",r.f.lastname.errors.pattern)}}function Vn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Yn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid name format. "),d.Lb())}function _n(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Vn,2,0,"span",46),d.kc(2,Yn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.firstname.errors&&r.f.firstname.errors.required),d.zb(1),d.Yb("ngIf",r.f.firstname.errors.pattern)}}function qn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Sn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid name format. "),d.Lb())}function Tn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,qn,2,0,"span",46),d.kc(2,Sn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.firstname.errors&&r.f.firstname.errors.required),d.zb(1),d.Yb("ngIf",r.f.firstname.errors.pattern)}}function Nn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Rn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid city format. "),d.Lb())}function Un(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Nn,2,0,"span",46),d.kc(2,Rn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.city.errors&&r.f.city.errors.required),d.zb(1),d.Yb("ngIf",r.f.city.errors.pattern)}}function jn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function An(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid zipcode format. "),d.Lb())}function Jn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,jn,2,0,"span",46),d.kc(2,An,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.zipcode.errors&&r.f.zipcode.errors.required),d.zb(1),d.Yb("ngIf",r.f.zipcode.errors.pattern)}}function Kn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Dn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid address format. "),d.Lb())}function En(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Kn,2,0,"span",46),d.kc(2,Dn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.address.errors&&r.f.address.errors.required),d.zb(1),d.Yb("ngIf",r.f.address.errors.pattern)}}function Zn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function $n(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid phone format. "),d.Lb())}function Fn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Zn,2,0,"span",46),d.kc(2,$n,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.phone.errors&&r.f.phone.errors.required),d.zb(1),d.Yb("ngIf",r.f.phone.errors.pattern)}}function Gn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Wn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid login format. "),d.Lb())}function Hn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Gn,2,0,"span",46),d.kc(2,Wn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.login.errors&&r.f.login.errors.required),d.zb(1),d.Yb("ngIf",r.f.login.errors.pattern)}}function Xn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Required"),d.Lb())}function Bn(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1," Must be a valid mail format. "),d.Lb())}function Qn(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,Xn,2,0,"span",46),d.kc(2,Bn,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.mail.errors&&r.f.mail.errors.required),d.zb(1),d.Yb("ngIf",r.f.mail.errors.pattern)}}function ne(n,e){1&n&&(d.Mb(0,"div"),d.lc(1,"Required"),d.Lb())}function ee(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,ne,2,0,"div",0),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",r.f.password.errors&&r.f.password.errors.required)}}function re(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Confirmation password is required"),d.Lb())}function te(n,e){1&n&&(d.Mb(0,"span",47),d.lc(1,"Passwords should match"),d.Lb())}function ie(n,e){if(1&n&&(d.Mb(0,"div"),d.kc(1,re,2,0,"span",46),d.kc(2,te,2,0,"span",46),d.Lb()),2&n){var r=d.Vb(3);d.zb(1),d.Yb("ngIf",!r.f.confirmPassword&&r.f.confirmPassword.errors.required),d.zb(1),d.Yb("ngIf",r.f.confirmPassword.errors.mustMatch)}}function oe(n,e){if(1&n&&(d.Mb(0,"button",48),d.lc(1," Update "),d.Lb()),2&n){var r=d.Vb(3);d.Yb("disabled",!r.form.valid)}}function ae(n,e){if(1&n){var r=d.Nb();d.Mb(0,"button",49),d.Tb("click",(function(){return d.ec(r),d.Vb(3).return()})),d.lc(1," Return "),d.Lb()}}function se(n,e){1&n&&d.Kb(0,"i",50)}function ce(n,e){if(1&n&&(d.Mb(0,"div"),d.Kb(1,"i",51),d.lc(2),d.Lb()),2&n){var r=d.Vb(3);d.zb(2),d.nc(" ",r.errorMessage,"")}}function be(n,e){if(1&n){var r=d.Nb();d.Mb(0,"form",9),d.Tb("ngSubmit",(function(n){return d.ec(r),d.Vb(2).modifyUser(n)})),d.Mb(1,"div",10),d.Mb(2,"div",11),d.Mb(3,"label",12),d.lc(4,"Lastname:"),d.Lb(),d.Mb(5,"input",13),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.lastname=n})),d.Lb(),d.kc(6,Pn,3,2,"div",14),d.Lb(),d.Mb(7,"div",11),d.Mb(8,"label",15),d.lc(9,"Firstname:"),d.Lb(),d.Mb(10,"input",16),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.firstname=n})),d.Lb(),d.kc(11,_n,3,2,"div",0),d.Lb(),d.Mb(12,"div",11),d.Mb(13,"label",17),d.lc(14,"Gender:"),d.Lb(),d.Mb(15,"select",18),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.gender=n})),d.Mb(16,"option",19),d.lc(17,"M"),d.Lb(),d.Mb(18,"option",20),d.lc(19,"F"),d.Lb(),d.Mb(20,"option",21),d.lc(21,"Other"),d.Lb(),d.Lb(),d.kc(22,Tn,3,2,"div",0),d.Lb(),d.Lb(),d.Mb(23,"div",10),d.Mb(24,"div",11),d.Mb(25,"label",22),d.lc(26,"City:"),d.Lb(),d.Mb(27,"input",23),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.city=n})),d.Lb(),d.kc(28,Un,3,2,"div",0),d.Lb(),d.Mb(29,"div",11),d.Mb(30,"label",22),d.lc(31,"Zipcode (5 char):"),d.Lb(),d.Mb(32,"input",24),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.zipcode=n})),d.Lb(),d.kc(33,Jn,3,2,"div",0),d.Lb(),d.Lb(),d.Mb(34,"div",11),d.Mb(35,"label",25),d.lc(36,"Address:"),d.Lb(),d.Mb(37,"input",26),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.address=n})),d.Lb(),d.kc(38,En,3,2,"div",0),d.Lb(),d.Mb(39,"div",11),d.Mb(40,"label",27),d.lc(41,"Phone number:"),d.Lb(),d.Mb(42,"div"),d.Mb(43,"select",28),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.country=n})),d.Mb(44,"option",29),d.lc(45,"fr"),d.Lb(),d.Mb(46,"option",30),d.lc(47,"en"),d.Lb(),d.Mb(48,"option",31),d.lc(49,"us"),d.Lb(),d.Mb(50,"option",32),d.lc(51,"gr"),d.Lb(),d.Lb(),d.Mb(52,"input",33),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.phone=n})),d.Lb(),d.kc(53,Fn,3,2,"div",0),d.Lb(),d.Lb(),d.Kb(54,"div",34),d.Mb(55,"div",11),d.Mb(56,"label",35),d.lc(57,"Login :"),d.Lb(),d.Mb(58,"input",36),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.login=n})),d.Lb(),d.kc(59,Hn,3,2,"div",0),d.Lb(),d.Mb(60,"div",11),d.Mb(61,"label",35),d.lc(62,"Mail :"),d.Lb(),d.Mb(63,"input",37),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.mail=n})),d.Lb(),d.kc(64,Qn,3,2,"div",0),d.Lb(),d.Mb(65,"div",11),d.Mb(66,"label",38),d.lc(67,"Password:"),d.Lb(),d.Mb(68,"input",39),d.Tb("ngModelChange",(function(n){return d.ec(r),d.Vb(2).user.password=n})),d.Lb(),d.kc(69,ee,2,1,"div",0),d.Lb(),d.Mb(70,"div",11),d.Mb(71,"label",40),d.lc(72,"Confirm password:"),d.Lb(),d.Kb(73,"input",41),d.kc(74,ie,3,2,"div",0),d.Lb(),d.Kb(75,"div",34),d.Mb(76,"div",42),d.kc(77,oe,2,1,"button",43),d.kc(78,ae,2,0,"button",44),d.kc(79,se,1,0,"i",45),d.kc(80,ce,3,1,"div",0),d.Lb(),d.Lb()}if(2&n){var t=d.Vb(2);d.Yb("formGroup",t.form),d.zb(5),d.Yb("ngModel",t.user.lastname),d.zb(1),d.Yb("ccErrorInput",!t.isValidInput("lastname")),d.zb(4),d.Yb("ngModel",t.user.firstname),d.zb(1),d.Yb("ngIf",t.isValidInput("firstname")),d.zb(4),d.Yb("ngModel",t.user.gender),d.zb(7),d.Yb("ngIf",t.isValidInput("firstname")),d.zb(5),d.Yb("ngModel",t.user.city),d.zb(1),d.Yb("ngIf",t.isValidInput("city")),d.zb(4),d.Yb("ngModel",t.user.zipcode),d.zb(1),d.Yb("ngIf",t.isValidInput("zipcode")),d.zb(4),d.Yb("ngModel",t.user.address),d.zb(1),d.Yb("ngIf",t.isValidInput("address")),d.zb(5),d.Yb("ngModel",t.user.country),d.zb(9),d.Yb("ngModel",t.user.phone),d.zb(1),d.Yb("ngIf",t.isValidInput("phone")),d.zb(5),d.Yb("ngModel",t.user.login),d.zb(1),d.Yb("ngIf",t.isValidInput("login")),d.zb(4),d.Yb("ngModel",t.user.mail),d.zb(1),d.Yb("ngIf",t.isValidInput("mail")),d.zb(4),d.Yb("ngModel",t.user.password),d.zb(1),d.Yb("ngIf",t.isValidInput("password")),d.zb(5),d.Yb("ngIf",t.isValidInput("confirmPassword")),d.zb(3),d.Yb("ngIf",!t.waiting),d.zb(1),d.Yb("ngIf",!t.waiting),d.zb(1),d.Yb("ngIf",t.waiting),d.zb(1),d.Yb("ngIf",t.errorSignIn)}}function ue(n,e){if(1&n){var r=d.Nb();d.Mb(0,"div",52),d.Mb(1,"button",53),d.Tb("click",(function(){d.ec(r);var n=d.Vb(2);return n.onLogOff(n.user)})),d.lc(2," Log Off "),d.Lb(),d.Mb(3,"button",53),d.Tb("click",(function(){d.ec(r);var n=d.Vb(2);return n.onModifyAccount(n.user)})),d.lc(4," Update Account "),d.Lb(),d.Mb(5,"button",54),d.Tb("click",(function(){return d.ec(r),d.Vb(2).onClickDelete()})),d.lc(6," Delete account "),d.Lb(),d.Lb()}}function de(n,e){if(1&n){var r=d.Nb();d.Mb(0,"div",52),d.Mb(1,"button",54),d.Tb("click",(function(){d.ec(r);var n=d.Vb(2);return n.onDelete(n.user)})),d.lc(2," Confirm delete "),d.Lb(),d.Lb()}}var fe=function(n,e,r){return{"user-boy":n,"user-girl":e,"user-other":r}};function le(n,e){if(1&n&&(d.Mb(0,"div"),d.Mb(1,"div",1),d.Mb(2,"div",2),d.Mb(3,"p"),d.lc(4),d.Lb(),d.Lb(),d.kc(5,xn,16,11,"div",3),d.kc(6,be,81,27,"form",4),d.Kb(7,"div",5),d.Lb(),d.kc(8,ue,7,0,"div",6),d.kc(9,de,3,0,"div",6),d.Lb()),2&n){var r=d.Vb();d.zb(1),d.Yb("ngClass",d.cc(6,fe,"Man"==r.user.gender,"Woman"==r.user.gender,"Other"==r.user.gender)),d.zb(3),d.nc("Welcome ",r.user.firstname,", here's your account information!"),d.zb(1),d.Yb("ngIf",!r.formModify),d.zb(1),d.Yb("ngIf",r.formModify),d.zb(2),d.Yb("ngIf",!r.clickModify),d.zb(1),d.Yb("ngIf",r.clickDelete)}}var pe,ge,me,Me,he,ve,Le=((ve=function(){function e(){n(this,e)}return r(e,[{key:"transform",value:function(n){n=0!==n.charAt(0)?n.substring(1):""+n.substring(1);for(var e="",r=0;r<Math.floor(n.length/2)-1;r++)e=e+n.substr(2*r,2)+"-";return e+n.substr(2*r)}}]),e}()).\u0275fac=function(n){return new(n||ve)},ve.\u0275pipe=d.Ib({name:"phone",type:ve,pure:!0}),ve),ye=((he=function(){function e(){n(this,e)}return r(e,[{key:"transform",value:function(n){switch(n){case"fr":return"+33";case"en":return"+44";case"gr":return"+49";case"us":return"+1"}}}]),e}()).\u0275fac=function(n){return new(n||he)},he.\u0275pipe=d.Ib({name:"callcode",type:he,pure:!0}),he),Ce=((Me=function(){function e(r,t,i){n(this,e),this.store=r,this.userService=t,this.fb=i,this.user=new c.a,this.formValidate=!1,this.formModify=!1,this.clickModify=!1,this.clickDelete=!1,this.errorSignIn=!1,this.errorMessage=null}return r(e,[{key:"ngOnInit",value:function(){var n=this;this.formValidate&&this.store.select(w.a.getUser).subscribe((function(e){n.user=e}))}},{key:"onDelete",value:function(n){var e=this;this.userService.deleteUser(n).subscribe((function(r){r.success&&(e.store.dispatch(new b.c(n)),e.formValidate=!1)}))}},{key:"onLogOff",value:function(n){var e=this;this.userService.logOffUser(n).subscribe((function(r){r.success&&(e.store.dispatch(new b.d(n)),e.formValidate=!1)}))}},{key:"onModifyAccount",value:function(n){this.initForm(),this.formModify=!0,this.clickModify=!0}},{key:"onClickDelete",value:function(){this.clickDelete=!0,this.clickModify=!0}},{key:"initForm",value:function(){this.form=this.fb.group({firstname:[null,[u.p.required,u.p.pattern("^[A-Za-z]+$")]],lastname:[null,[u.p.required,u.p.pattern("^[A-Za-z]+$")]],city:[null,u.p.required],zipcode:[null,[u.p.pattern("^[0-9]+$"),u.p.required]],phone:[null,[u.p.pattern("^[0-9]+$"),u.p.required]],address:[null,u.p.required],login:[null,u.p.required],mail:[null,[u.p.required,u.p.pattern("^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")]],gender:[null,u.p.required],country:[null,u.p.required],password:[null,u.p.required],confirmPassword:[null,u.p.required]},{validator:P("password","confirmPassword")})}},{key:"isValidInput",value:function(n){return this.form.controls[n].invalid&&(this.form.controls[n].dirty||this.form.controls[n].touched)}},{key:"modifyUser",value:function(n){var e=this;n.preventDefault(),this.clickModify=!0,this.user.firstname=this.form.value.firstname,this.form.valid&&this.userService.updateUser(this.user).subscribe((function(n){n.success&&(e.store.dispatch(new b.a(n.data)),e.formValidate=!0,e.formModify=!1,e.clickModify=!1)}))}},{key:"return",value:function(){this.formModify=!1,this.clickModify=!1}},{key:"f",get:function(){return this.form.controls}}]),e}()).\u0275fac=function(n){return new(n||Me)(d.Jb(h.e),d.Jb(M),d.Jb(u.b))},Me.\u0275cmp=d.Db({type:Me,selectors:[["app-recap"]],inputs:{formValidate:"formValidate",formModify:"formModify"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"user-card",3,"ngClass"],[1,"user-card-header"],["class","user-card-info",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"user-card-ok"],["class","user-btn-cnt",4,"ngIf"],[1,"user-card-info"],[1,"user-card-address"],[3,"formGroup","ngSubmit"],[1,"c-input"],[1,"c-input-one"],["for","lastname"],["formControlName","lastname","type","text","id","lastname","name","lastname",3,"ngModel","ngModelChange"],[4,"ccErrorInput"],["for","firstname"],["type","text","formControlName","firstname","id","firstname","name","firstname",3,"ngModel","ngModelChange"],["for","gender"],["formControlName","gender","id","gender","name","gender",3,"ngModel","ngModelChange"],["value","Man","selected",""],["value","Woman"],["value","Other"],["for","name"],["formControlName","city","type","text","id","city","name","namcitye",3,"ngModel","ngModelChange"],["formControlName","zipcode","type","text","id","zip","name","zip","minlength","5","maxlength","5","size","5",3,"ngModel","ngModelChange"],["for","address"],["formControlName","address","type","text","id","address","name","address",3,"ngModel","ngModelChange"],["for","phone"],["formControlName","country","id","country","name","country",3,"ngModel","ngModelChange"],["value","fr","selected",""],["value","en"],["value","us"],["value","gr"],["formControlName","phone","type","text","id","phone","name","phone","maxlength","10",3,"ngModel","ngModelChange"],[1,"separator"],["for","mail"],["formControlName","login","type","text","id","login","name","login",3,"ngModel","ngModelChange"],["formControlName","mail","type","text","id","mail","name","mail",3,"ngModel","ngModelChange"],["for","pass"],["formControlName","password","type","password","id","password","name","password",3,"ngModel","ngModelChange"],["for","confirm-pass"],["type","password","id","confirm-pass","name","confirm-pass","formControlName","confirmPassword","required",""],[1,"c-input","btn-container"],["class","user-btn-btn","type","submit","value","Modifier",3,"disabled",4,"ngIf"],["class","user-btn-btn","value","Modifier",3,"click",4,"ngIf"],["class","fa fa-spin fa-spinner","aria-hidden","true",4,"ngIf"],["class","err-input",4,"ngIf"],[1,"err-input"],["type","submit","value","Modifier",1,"user-btn-btn",3,"disabled"],["value","Modifier",1,"user-btn-btn",3,"click"],["aria-hidden","true",1,"fa","fa-spin","fa-spinner"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"user-btn-cnt"],["value","Logoff",1,"user-btn-btn",3,"click"],["value","Supprimer",1,"user-btn-btn",3,"click"]],template:function(n,e){1&n&&d.kc(0,le,10,10,"div",0),2&n&&d.Yb("ngIf",e.formValidate)},directives:[v.k,v.i,u.r,u.i,u.d,u.a,u.h,u.c,yn,u.o,u.l,u.q,u.g,u.f,u.n],pipes:[ye,Le],styles:["[_nghost-%COMP%]{min-height:500px}.user-boy[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-boy[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-color:#8cde85;color:#000}.user-girl[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-girl[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-color:#de85c4}.user-other[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%], .user-other[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,red,orange,#ff0,green,#00f,indigo,violet)}.user-card[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.25,.8,.25,1);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background:#fff;border-radius:25px;display:flex;flex-direction:column;justify-content:space-between;font-family:Arial,Helvetica,sans-serif;min-width:500px;min-height:500px}.user-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.user-card[_ngcontent-%COMP%]   .c-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px;margin:5px;font-family:Arial,Helvetica,sans-serif}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:5px}.user-card[_ngcontent-%COMP%]   .c-input-one[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0x}.user-card[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%]{padding:10px;color:#fff;font-family:Arial;height:3em;text-align:center;display:flex;justify-content:center;flex-direction:column;border-radius:20px 20px 0 0;transition:all .5s cubic-bezier(.25,.8,.25,1)}.user-card[_ngcontent-%COMP%]   .user-card-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.user-card[_ngcontent-%COMP%]   .user-card-address[_ngcontent-%COMP%]{padding:15px}.user-card[_ngcontent-%COMP%]   .user-card-address[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.user-card[_ngcontent-%COMP%]   .user-card-ok[_ngcontent-%COMP%]{border-radius:0 0 20px 20px;height:2em;color:#fff;display:flex;justify-content:center;align-items:center;transition:all .5s cubic-bezier(.25,.8,.25,1)}.user-card[_ngcontent-%COMP%]   .user-card-info[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.user-card[_ngcontent-%COMP%]   .user-card-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px;text-align:center}.btn-container[_ngcontent-%COMP%], .user-btn-cnt[_ngcontent-%COMP%]{margin:20px auto;display:flex;justify-content:space-around}.user-btn-btn[_ngcontent-%COMP%]{cursor:pointer;border:none;position:relative;background:#18f7f7;border-radius:5px;margin:5px;height:35px;transition:all 1s ease-out;width:12em;display:flex;justify-content:center;align-items:center}"]}),Me),ze=((me=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(n){return new(n||me)},me.\u0275cmp=d.Db({type:me,selectors:[["app-footer-form"]],decls:1,vars:0,consts:[["id","footer-bar"]],template:function(n,e){1&n&&d.Kb(0,"div",0)},styles:["#footer-bar[_ngcontent-%COMP%]{height:3em;border-radius:0 0 10px 10px;background-color:#31bbd6;display:flex;justify-content:center;align-items:center}#footer-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;text-align:center;padding:10px;color:#fff;font-family:Arial}"]}),me),ke=((ge=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(n){return new(n||ge)},ge.\u0275cmp=d.Db({type:ge,selectors:[["app-header-form"]],decls:3,vars:0,consts:[["id","header"]],template:function(n,e){1&n&&(d.Mb(0,"div",0),d.Mb(1,"h2"),d.lc(2,"Sign in"),d.Lb(),d.Lb())},styles:["#header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background-color:#31bbd6}#header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;padding:10px;color:#fff;font-family:Arial;height:3em;text-align:center;display:flex;justify-content:center;flex-direction:column}"]}),ge),Ie=((pe=function e(){n(this,e)}).\u0275mod=d.Hb({type:pe}),pe.\u0275inj=d.Gb({factory:function(n){return new(n||pe)},providers:[],imports:[[v.c,u.e,u.m,Ln]]}),pe);d.gc(hn,[v.k,ke,u.r,u.i,u.d,u.a,u.h,u.c,yn,u.o,u.l,u.q,u.g,u.f,u.n,ze,I,Ce],[])}}])}();